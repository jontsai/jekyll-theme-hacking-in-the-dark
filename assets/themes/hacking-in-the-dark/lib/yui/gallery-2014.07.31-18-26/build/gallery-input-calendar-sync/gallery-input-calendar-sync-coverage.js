if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/gallery-input-calendar-sync/gallery-input-calendar-sync.js']) {
   __coverage__['build/gallery-input-calendar-sync/gallery-input-calendar-sync.js'] = {"path":"build/gallery-input-calendar-sync/gallery-input-calendar-sync.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":39},"end":{"line":1,"column":58}}},"2":{"name":"InputCalendarSync","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":21,"column":0}}},"3":{"name":"(anonymous_3)","line":39,"loc":{"start":{"line":39,"column":13},"end":{"line":40,"column":2}}},"4":{"name":"syncFromInput","line":59,"loc":{"start":{"line":59,"column":0},"end":{"line":60,"column":0}}},"5":{"name":"syncFromCalendar","line":101,"loc":{"start":{"line":101,"column":0},"end":{"line":102,"column":0}}},"6":{"name":"privateSyncFromCalendar","line":110,"loc":{"start":{"line":110,"column":0},"end":{"line":111,"column":0}}},"7":{"name":"(anonymous_7)","line":122,"loc":{"start":{"line":122,"column":14},"end":{"line":123,"column":1}}},"8":{"name":"(anonymous_8)","line":138,"loc":{"start":{"line":138,"column":13},"end":{"line":139,"column":1}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":156,"column":3}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":13}},"3":{"start":{"line":19,"column":0},"end":{"line":23,"column":1}},"4":{"start":{"line":22,"column":1},"end":{"line":22,"column":61}},"5":{"start":{"line":25,"column":0},"end":{"line":25,"column":51}},"6":{"start":{"line":26,"column":0},"end":{"line":26,"column":40}},"7":{"start":{"line":28,"column":0},"end":{"line":57,"column":2}},"8":{"start":{"line":41,"column":3},"end":{"line":41,"column":40}},"9":{"start":{"line":59,"column":0},"end":{"line":99,"column":1}},"10":{"start":{"line":61,"column":1},"end":{"line":64,"column":2}},"11":{"start":{"line":63,"column":2},"end":{"line":63,"column":9}},"12":{"start":{"line":66,"column":1},"end":{"line":68,"column":41}},"13":{"start":{"line":70,"column":1},"end":{"line":98,"column":2}},"14":{"start":{"line":72,"column":2},"end":{"line":87,"column":3}},"15":{"start":{"line":74,"column":3},"end":{"line":74,"column":39}},"16":{"start":{"line":76,"column":3},"end":{"line":76,"column":96}},"17":{"start":{"line":77,"column":3},"end":{"line":77,"column":23}},"18":{"start":{"line":78,"column":3},"end":{"line":78,"column":32}},"19":{"start":{"line":79,"column":3},"end":{"line":79,"column":32}},"20":{"start":{"line":86,"column":3},"end":{"line":86,"column":40}},"21":{"start":{"line":89,"column":2},"end":{"line":89,"column":37}},"22":{"start":{"line":91,"column":6},"end":{"line":98,"column":2}},"23":{"start":{"line":93,"column":2},"end":{"line":93,"column":37}},"24":{"start":{"line":97,"column":2},"end":{"line":97,"column":22}},"25":{"start":{"line":101,"column":0},"end":{"line":108,"column":1}},"26":{"start":{"line":103,"column":1},"end":{"line":107,"column":2}},"27":{"start":{"line":105,"column":2},"end":{"line":105,"column":27}},"28":{"start":{"line":106,"column":2},"end":{"line":106,"column":37}},"29":{"start":{"line":110,"column":0},"end":{"line":118,"column":1}},"30":{"start":{"line":112,"column":1},"end":{"line":112,"column":33}},"31":{"start":{"line":114,"column":1},"end":{"line":114,"column":57}},"32":{"start":{"line":115,"column":1},"end":{"line":115,"column":65}},"33":{"start":{"line":117,"column":1},"end":{"line":117,"column":34}},"34":{"start":{"line":120,"column":0},"end":{"line":142,"column":3}},"35":{"start":{"line":124,"column":2},"end":{"line":124,"column":30}},"36":{"start":{"line":126,"column":2},"end":{"line":131,"column":4}},"37":{"start":{"line":133,"column":2},"end":{"line":133,"column":54}},"38":{"start":{"line":135,"column":2},"end":{"line":135,"column":27}},"39":{"start":{"line":140,"column":2},"end":{"line":140,"column":45}},"40":{"start":{"line":144,"column":0},"end":{"line":144,"column":22}},"41":{"start":{"line":145,"column":0},"end":{"line":145,"column":47}}},"branchMap":{"1":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},{"start":{"line":61,"column":1},"end":{"line":61,"column":1}}]},"2":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},{"start":{"line":70,"column":1},"end":{"line":70,"column":1}}]},"3":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":6},"end":{"line":91,"column":6}},{"start":{"line":91,"column":6},"end":{"line":91,"column":6}}]},"4":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},{"start":{"line":103,"column":1},"end":{"line":103,"column":1}}]}},"code":["(function () { YUI.add('gallery-input-calendar-sync', function (Y, NAME) {","","\"use strict\";","","/**"," * @module gallery-input-calendar-sync"," */","","/**********************************************************************"," * Plugin for an input field which syncs the value with a calendar."," * "," * @main gallery-input-calendar-sync"," * @class InputCalendarSync"," * @namespace Plugin"," * @extends Plugin.Base"," * @constructor"," * @param config {Object} configuration"," */","function InputCalendarSync(","\t/* object */ config)","{","\tInputCalendarSync.superclass.constructor.call(this, config);","}","","InputCalendarSync.NAME = \"InputCalendarSyncPlugin\";","InputCalendarSync.NS   = \"calendarSync\";","","InputCalendarSync.ATTRS =","{","\t/**","\t * Calendar with which to sync.","\t * ","\t * @attribute calendar","\t * @type {Calendar}","\t * @required","\t */","\tcalendar:","\t{","\t\tvalidator: function(value)","\t\t{","\t\t\treturn (value instanceof Y.Calendar);","\t\t}","\t},","","\t/**","\t * Set to false to require a date to be entered.","\t *","\t * @attribute allowBlank","\t * @type {Boolean}","\t * @default true","\t */","\tallowBlank:","\t{","\t\tvalue:     true,","\t\tvalidator: Y.Lang.isBoolean","\t}","};","","function syncFromInput()","{","\tif (this.ignore_value_change)","\t{","\t\treturn;","\t}","","\tvar host  = this.get('host'),","\t\tcal   = this.get('calendar'),","\t\tvalue = Y.Lang.trim(host.get('value'));","","\tif (value.length > 0)","\t{","\t\ttry","\t\t{","\t\t\tthis.ignore_selection_change = true;","","\t\t\tvar result = Y.DateTimeUtils.normalize(Y.DateTimeUtils.parseDate(value), {hour:0, minute:0});","\t\t\tcal.deselectDates();\t// hack for http://yuilibrary.com/projects/yui3/ticket/2530928","\t\t\tcal.selectDates(result.date);","\t\t\tcal.set('date', result.date);","\t\t}","\t\tcatch (ex)","\t\t{","\t\t}","\t\tfinally","\t\t{","\t\t\tthis.ignore_selection_change = false;","\t\t}","","\t\tprivateSyncFromCalendar.call(this);","\t}","\telse if (!this.get('allowBlank'))","\t{","\t\tprivateSyncFromCalendar.call(this);","\t}","\telse","\t{","\t\tcal.deselectDates();","\t}","}","","function syncFromCalendar()","{","\tif (!this.ignore_selection_change)","\t{","\t\tthis.get('host').focus();\t// make it compatible with valuechange event","\t\tprivateSyncFromCalendar.call(this);","\t}","}","","function privateSyncFromCalendar()","{","\tthis.ignore_value_change = true;","","\tvar date = this.get('calendar').get('selectedDates')[0];","\tthis.get('host').set('value', Y.DateTimeUtils.formatDate(date));","","\tthis.ignore_value_change = false;","}","","Y.extend(InputCalendarSync, Y.Plugin.Base,","{","\tinitializer: function(config)","\t{","\t\tvar host = this.get('host');","","\t\tthis.handle_list =","\t\t[","\t\t\thost.on('change', syncFromInput, this),","\t\t\thost.on('valueSet', syncFromInput, this),","\t\t\tthis.get('calendar').on('selectionChange', syncFromCalendar, this)","\t\t];","","\t\tthis.get('calendar').set('selectionMode', 'single');","","\t\tsyncFromInput.call(this);","\t},","","\tdestructor: function()","\t{","\t\tY.Array.invoke(this.handle_list, 'detach');","\t}","});","","Y.namespace(\"Plugin\");","Y.Plugin.InputCalendarSync = InputCalendarSync;","","","}, 'gallery-2013.06.26-23-09', {","    \"requires\": [","        \"node-pluginhost\",","        \"plugin\",","        \"gallery-datetime-utils\",","        \"calendar\",","        \"gallery-node-event-set\"","    ]","});","","}());"]};
}
var __cov_zZh5cAJsZYh6w01KeaoDLw = __coverage__['build/gallery-input-calendar-sync/gallery-input-calendar-sync.js'];
__cov_zZh5cAJsZYh6w01KeaoDLw.s['1']++;YUI.add('gallery-input-calendar-sync',function(Y,NAME){__cov_zZh5cAJsZYh6w01KeaoDLw.f['1']++;__cov_zZh5cAJsZYh6w01KeaoDLw.s['2']++;'use strict';__cov_zZh5cAJsZYh6w01KeaoDLw.s['3']++;function InputCalendarSync(config){__cov_zZh5cAJsZYh6w01KeaoDLw.f['2']++;__cov_zZh5cAJsZYh6w01KeaoDLw.s['4']++;InputCalendarSync.superclass.constructor.call(this,config);}__cov_zZh5cAJsZYh6w01KeaoDLw.s['5']++;InputCalendarSync.NAME='InputCalendarSyncPlugin';__cov_zZh5cAJsZYh6w01KeaoDLw.s['6']++;InputCalendarSync.NS='calendarSync';__cov_zZh5cAJsZYh6w01KeaoDLw.s['7']++;InputCalendarSync.ATTRS={calendar:{validator:function(value){__cov_zZh5cAJsZYh6w01KeaoDLw.f['3']++;__cov_zZh5cAJsZYh6w01KeaoDLw.s['8']++;return value instanceof Y.Calendar;}},allowBlank:{value:true,validator:Y.Lang.isBoolean}};__cov_zZh5cAJsZYh6w01KeaoDLw.s['9']++;function syncFromInput(){__cov_zZh5cAJsZYh6w01KeaoDLw.f['4']++;__cov_zZh5cAJsZYh6w01KeaoDLw.s['10']++;if(this.ignore_value_change){__cov_zZh5cAJsZYh6w01KeaoDLw.b['1'][0]++;__cov_zZh5cAJsZYh6w01KeaoDLw.s['11']++;return;}else{__cov_zZh5cAJsZYh6w01KeaoDLw.b['1'][1]++;}__cov_zZh5cAJsZYh6w01KeaoDLw.s['12']++;var host=this.get('host'),cal=this.get('calendar'),value=Y.Lang.trim(host.get('value'));__cov_zZh5cAJsZYh6w01KeaoDLw.s['13']++;if(value.length>0){__cov_zZh5cAJsZYh6w01KeaoDLw.b['2'][0]++;__cov_zZh5cAJsZYh6w01KeaoDLw.s['14']++;try{__cov_zZh5cAJsZYh6w01KeaoDLw.s['15']++;this.ignore_selection_change=true;__cov_zZh5cAJsZYh6w01KeaoDLw.s['16']++;var result=Y.DateTimeUtils.normalize(Y.DateTimeUtils.parseDate(value),{hour:0,minute:0});__cov_zZh5cAJsZYh6w01KeaoDLw.s['17']++;cal.deselectDates();__cov_zZh5cAJsZYh6w01KeaoDLw.s['18']++;cal.selectDates(result.date);__cov_zZh5cAJsZYh6w01KeaoDLw.s['19']++;cal.set('date',result.date);}catch(ex){}finally{__cov_zZh5cAJsZYh6w01KeaoDLw.s['20']++;this.ignore_selection_change=false;}__cov_zZh5cAJsZYh6w01KeaoDLw.s['21']++;privateSyncFromCalendar.call(this);}else{__cov_zZh5cAJsZYh6w01KeaoDLw.b['2'][1]++;__cov_zZh5cAJsZYh6w01KeaoDLw.s['22']++;if(!this.get('allowBlank')){__cov_zZh5cAJsZYh6w01KeaoDLw.b['3'][0]++;__cov_zZh5cAJsZYh6w01KeaoDLw.s['23']++;privateSyncFromCalendar.call(this);}else{__cov_zZh5cAJsZYh6w01KeaoDLw.b['3'][1]++;__cov_zZh5cAJsZYh6w01KeaoDLw.s['24']++;cal.deselectDates();}}}__cov_zZh5cAJsZYh6w01KeaoDLw.s['25']++;function syncFromCalendar(){__cov_zZh5cAJsZYh6w01KeaoDLw.f['5']++;__cov_zZh5cAJsZYh6w01KeaoDLw.s['26']++;if(!this.ignore_selection_change){__cov_zZh5cAJsZYh6w01KeaoDLw.b['4'][0]++;__cov_zZh5cAJsZYh6w01KeaoDLw.s['27']++;this.get('host').focus();__cov_zZh5cAJsZYh6w01KeaoDLw.s['28']++;privateSyncFromCalendar.call(this);}else{__cov_zZh5cAJsZYh6w01KeaoDLw.b['4'][1]++;}}__cov_zZh5cAJsZYh6w01KeaoDLw.s['29']++;function privateSyncFromCalendar(){__cov_zZh5cAJsZYh6w01KeaoDLw.f['6']++;__cov_zZh5cAJsZYh6w01KeaoDLw.s['30']++;this.ignore_value_change=true;__cov_zZh5cAJsZYh6w01KeaoDLw.s['31']++;var date=this.get('calendar').get('selectedDates')[0];__cov_zZh5cAJsZYh6w01KeaoDLw.s['32']++;this.get('host').set('value',Y.DateTimeUtils.formatDate(date));__cov_zZh5cAJsZYh6w01KeaoDLw.s['33']++;this.ignore_value_change=false;}__cov_zZh5cAJsZYh6w01KeaoDLw.s['34']++;Y.extend(InputCalendarSync,Y.Plugin.Base,{initializer:function(config){__cov_zZh5cAJsZYh6w01KeaoDLw.f['7']++;__cov_zZh5cAJsZYh6w01KeaoDLw.s['35']++;var host=this.get('host');__cov_zZh5cAJsZYh6w01KeaoDLw.s['36']++;this.handle_list=[host.on('change',syncFromInput,this),host.on('valueSet',syncFromInput,this),this.get('calendar').on('selectionChange',syncFromCalendar,this)];__cov_zZh5cAJsZYh6w01KeaoDLw.s['37']++;this.get('calendar').set('selectionMode','single');__cov_zZh5cAJsZYh6w01KeaoDLw.s['38']++;syncFromInput.call(this);},destructor:function(){__cov_zZh5cAJsZYh6w01KeaoDLw.f['8']++;__cov_zZh5cAJsZYh6w01KeaoDLw.s['39']++;Y.Array.invoke(this.handle_list,'detach');}});__cov_zZh5cAJsZYh6w01KeaoDLw.s['40']++;Y.namespace('Plugin');__cov_zZh5cAJsZYh6w01KeaoDLw.s['41']++;Y.Plugin.InputCalendarSync=InputCalendarSync;},'gallery-2013.06.26-23-09',{'requires':['node-pluginhost','plugin','gallery-datetime-utils','calendar','gallery-node-event-set']});
