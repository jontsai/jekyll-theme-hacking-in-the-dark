YUI.add("gallery-widget-modalshim",function(a){function b(c){a.after(this._renderUIModalShim,this,"_renderUIModal");a.after(this._syncUIModalShim,this,"_syncUIModal");}b.NAME="modal-shim";b.ATTRS={modalShim:{value:UA.ie===6,validator:L.isBoolean}};b.CLASS_NAME=Widget.getClassName("modal","shim");b.TEMPLATE='<iframe class="'+b.CLASS_NAME+'" frameborder="0" title="Widget Modal Shim" src="javascript:false" tabindex="-1" role="presentation"></iframe>';b.prototype={_renderUIModalShim:function(){this._uiSetModalShim(this.get("modalShim"));},_syncUIModalShim:function(){this._uiSetModalShim(this.get("modalShim"));},_uiSetModalShim:function(c){if(c){this._renderModalShim();this._addModalShimResizeHandlers();}else{this._destroyModalShim();}},_renderModalShim:function(){var c=this._modalShimNode,d=this.get("maskNode");if(!c){c=this._modalShimNode=this._getModalShimTemplate();d.prepend(c);this.sizeModalShim();}},_addModalShimResizeHandlers:function(){this._modalShimHandles||(this._modalShimHandles=[]);var d=this._modalShimHandles,c=this.sizeModalShim;d.push(this.after("visibleChange",c));d.push(this.after("WidthChange",c));d.push(this.after("HeightChange",c));d.push(this.after("contentUpdate",c));},_detachModalShimHandlers:function(){var c=this._modalShimHandles,d;if(c&&c.length>0){while((d=c.pop())){d.detach();}}},sizeModalShim:function(){var d=this._modalShimNode,c=this.get("maskNode");if(d&&this.get("visible")){d.setStyles({width:c.get("offsetWidth")+"px",height:c.get("offsetHeight")+"px"});}},_getModalShimTemplate:function(){return Node.create(b.TEMPLATE);},_destroyModalShim:function(){this._modalShimNode.remove(true);this._detachModalShimHandlers();}};a.WidgetModalShim=b;},"gallery-2012.09.26-20-36",{requires:["widget","widget-modality"],skinnable:true});