YUI.add("gallery-sm-map",function(e,t){"use strict";function u(t,n){arguments.length===1&&!("length"in t)&&typeof t.entries!="function"&&(n=t,t=null),n&&(this._mapOptions=e.merge(u.prototype._mapOptions,n)),this.clear();if(t){e.Lang.isArray(t)||(typeof t.entries=="function"?t=t.entries():t=s.call(t));var r;for(var i=0,o=t.length;i<o;++i)r=t[i],this.set(r[0],r[1])}}var n={},r=e.Lang._isNative,i=r(Object.create),s=Array.prototype.slice,o=r(Object.defineProperty)&&e.UA.ie!==8;o&&Object.defineProperty(u.prototype,"size",{configurable:!0,get:function(){return this._mapKeys.length}}),e.mix(u.prototype,{_mapOptions:{objectIdName:"_yuid"},clear:function(){return this._mapKeys=[],this._mapValues=[],this._reindexMap(),this._updateMapSize(),this},each:function(e,t){var n=this.entries(),r;for(var i=0,s=n.length;i<s;++i){r=n[i];if(e.call(t,r[1],r[0],this)===!1)break}return this},entries:function(){var e=[],t=this._mapKeys,n=this._mapValues;for(var r=0,i=t.length;r<i;++r)e.push([t[r],n[r]]);return e},get:function(e,t){var n=this._indexOfKey(e);return n<0?t:this._mapValues[n]},has:function(e){return this._indexOfKey(e)>=0},keys:function(){return s.call(this._mapKeys)},merge:function(){var e=s.call(arguments),t,n,r,i,o;while(o=e.shift()){t=typeof o.entries=="function"?o.entries():o;for(r=0,i=t.length;r<i;++r)n=t[r],this.set(n[0],n[1])}return this},remove:function(e){var t=this._indexOfKey(e);return t<0?!1:(this._removeMapEntry(t),this._updateMapSize(),!0)},set:function(e,t){var n=this._indexOfKey(e);return n<0&&(n=this._mapKeys.length),this._mapKeys[n]=e,this._mapValues[n]=t,this._indexMapKey(n,e),this._updateMapSize(),this},values:function(){return s.call(this._mapValues)},_indexMapKey:function(t,n){var r=this._mapOptions.objectIdName;if(typeof n=="string"){if(i||this._isSafeKey(n))this._mapKeyIndices[n]=t}else if(r&&n&&typeof n=="object"){if(!n[r]&&this._mapOptions.autoStamp)try{n[r]=e.guid()}catch(s){}n[r]&&(i||this._isSafeKey(n[r]))&&(this._mapObjectIndices[n[r]]=t)}},_indexOfKey:function(e){var t=this._mapOptions.objectIdName,n;this._isIndexStale&&this._reindexMap();if(typeof e=="string"){if(i||this._isSafeKey(e))return n=this._mapKeyIndices[e],n>=0?n:-1}else if(t&&e!==null&&e[t])if(i||this._isSafeKey(e[t])){n=this._mapObjectIndices[e[t]];if(n>=0)return n}var r=this._mapKeys,s=this._sameValueZero,o;for(n=0,o=r.length;n<o;++n)if(s(r[n],e))return n;return-1},_isSafeKey:function(e){return!(e==="prototype"||e in n)},_reindexMap:function(){var e=this._mapKeys;this._mapKeyIndices=i?Object.create(null):{},this._mapObjectIndices=i?Object.create(null):{};for(var t=0,n=e.length;t<n;++t)this._indexMapKey(t,e[t]);this._isIndexStale=!1},_removeMapEntry:function(e){e===this._mapKeys.length-1?(this._mapKeys.pop(),this._mapValues.pop()):(this._mapKeys.splice(e,1),this._mapValues.splice(e,1),this._isIndexStale=!0)},_sameValueZero:function(e,t){return e===t||e!==e&&t!==t},_updateMapSize:o?function(){}:function(){this.size=this._mapKeys.length}},!0),u.prototype["delete"]=u.prototype.remove,u.prototype.forEach=u.prototype.each,u.prototype.toJSON=u.prototype.entries,e.Map=u},"gallery-2013.09.04-21-56",{requires:[]});
