YUI.add("gallery-msa-checkbox",function(e,t){"use strict";function n(e){n.superclass.constructor.apply(this,arguments)}e.namespace("MSA"),n.NAME="MSACheckbox";var r=".toggle-handle",i=".toggle",s="input[type=checkbox]",o="readonly",u="disabled",a="webkitTransform",f="clientWidth",l="active",c="translate3D",h='<div class="toggle {active}"><div class="toggle-handle"></div></div>';e.extend(n,e.Base,{initializer:function(e){this._handles=[],this.renderUI(e)},renderUI:function(t){t.srcNodes.each(function(t){t.addClass("toggle-hidden");var n=t.ancestor("label");n&&n.setAttribute("for",Math.random()),t.insert(e.Lang.sub(h,{active:t.get("checked")?l:""}),"after")}),this.bindUI()},bindUI:function(){var t={},n=!1,i=!1;this._handles.push(e.delegate("gesturemovestart",function(e){var i=e.currentTarget,s=i.one(r),o=i.get(f),u=s.get(f),a=i.hasClass(l)?o-u:0;t={pageX:e.pageX-a,pageY:e.pageY},n=!1},"body",".toggle",this)),this._handles.push(e.delegate("gesturemove",function(e){var o=e.currentTarget,h=o.one(r),p=e,d=o.get(f),v=h.get(f),m=d-v;n=!0,i=p.pageX-t.pageX;if(Math.abs(i)<Math.abs(p.pageY-t.pageY)||o.previous(s).get(u))return;e.preventDefault();if(i<0)return h.setStyle(a,c+"(0,0,0)");if(i>m)return h.setStyle(a,c+"("+m+"px,0,0)");h.setStyle(a,c+"("+i+"px,0,0)"),o.toggleClass(l,i>d/2-v/2)},"body",".toggle",this)),this._handles.push(e.delegate("gesturemoveend",function(e){var t=e.currentTarget,o=t.one(r),h=t.get(f),p=o.get(f),d=h-p,v=!n&&!t.hasClass(l)||n&&i>h/2-p/2;if(t.previous(s).get(u))return;v?o.setStyle(a,c+"("+d+"px,0,0)"):o.setStyle(a,c+"(0,0,0)"),t.toggleClass(l,v).previous(s).set("checked",v),this.fire("toggle",{isActive:v}),n=!1,t=!1},"body",".toggle",this))},destructor:function(){for(var e=0;e<this._handles.length;e++)this._handles[e].detach();this._handles=null}}),e.MSA.Checkbox=n},"gallery-2014.03.12-23-08",{skinnable:"true",requires:["node-base","base","event-base","event-move","event-delegate","node-event-delegate","node-style"],optional:[""]});
