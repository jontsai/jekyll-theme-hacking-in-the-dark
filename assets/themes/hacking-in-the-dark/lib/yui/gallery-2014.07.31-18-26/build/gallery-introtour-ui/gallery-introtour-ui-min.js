YUI.add("gallery-introtour-ui",function(e,t){YUI.add("gallery-introtour-ui",function(e){e.namespace("Introtour");var t={},n=function(e){var t=0,n=0;if(e.offsetParent)do t+=e.offsetLeft,n+=e.offsetTop;while(e==e.offsetParent);return[t,n]},r={cardstyle:{button:"#61399d",buttontext:"#000",title:"#fff",content:"#fff",cardborder:"#61399d"},carddimension:{height:"300px",width:"300px"},initcardpos:{marginleft:"-150px"},buttonwelcome:{content:"Start Tour",buttonid:"yui-galleryintrotourui-buttonwelcome-id"},buttontourend:{content:"Close",buttonid:"yui-galleryintrotourui-buttontourend-id"},buttonnav:{content:"Next",buttonid:"yui-galleryintrotourui-buttonnav-"}},i=function(e){if(!e)e=r.cardstyle;else{var t=r.cardstyle;e.button||(e.button=t.button),e.buttontext||(e.buttontext=t.buttontext),e.title||(e.title=t.title),e.content||(e.content=t.content),e.cardborder||(e.border=t.border)}return e},s=function(e,t,n,r){var i=t.buttonid,s="",o="";return e.title||(e.title=""),e.content||(e.content=""),r>0&&(i+=r),e.position==="right"?o="right":e.position==="left"?o="left":e.position==="top"?o="top":e.position==="bottom"&&(o="bottom"),o&&(s="<div class='yui-galleryintrotourui-card-arrow "+o+"'></div>"),s+="<div class='yui-galleryintrotourui-card-container'><div class='yui-galleryintrotourui-card-closebutton'>x</div><div class='yui-galleryintrotourui-clearfix'></div><div class='yui-galleryintrotourui-card-text'><div class='yui-galleyintroui-card-title'>"+e.title+"</div>"+"<div class='yui-galleryintrotourui-card-content'>"+e.content+"</div>"+"</div>"+"<div class='yui-galleryintrotourui-card-nav'>"+"<button data-seqid='"+n+"' id='"+i+"' class='yui-galleryintrotourui-card-next yui3-button notice'>"+t.content+"</button>"+"</div>"+"</div>",s},o=function(t,n,i,o,u,a,f){var l={},c;u?u==="welcome"?(l=r.buttonwelcome,a="welcome"):u==="end"&&(l=r.buttontourend,a="end"):l=r.buttonnav,c=s(i,l,a,f),node=new e.Node(document.createElement("div")),node.addClass("yui-galleryintrotourui-card"),node.setAttribute("id",o),node.setStyle("width",r.carddimension.width),node.setStyle("top",t),node.setStyle("left",n),node.set("innerHTML",c),(u==="welcome"||u==="end")&&node.setStyle("marginLeft",r.initcardpos.marginleft),e.one("body").appendChild(node)},u=function(e,t){var n=0,r=0;(e.position==="left"||e.position==="right")&&e.width==="undefined"&&(e.width=0),(e.position==="top"||e.position==="bottom")&&e.height==="undefined"&&(e.width=0),t[0]=parseInt(t[0],10),t[1]=parseInt(t[1],10),e.width=parseInt(e.width,10),e.height=parseInt(e.height,10);switch(e.position){case"right":n=t[1],r=t[0]+e.width;break;case"left":n=t[1],r=t[0]-e.width-300;break;case"top":n=t[1]-e.height,r=t[0];break;case"bottom":n=t[1]+e.height,r=t[0];break;default:n=t[1],r=t[0]+50}return t[1]=n,t[0]=r,t},a=function(){document.activeElement.blur(),window.scrollTo(t.hscroll,t.vscroll),e.all(".yui-galleryintrotourui-card").setStyle("display","none"),t.prevActiveElement.focus()};e.Introtour.init=function(r,s){t.hscroll=document.all?document.scrollLeft:window.pageXOffset,t.vscroll=document.all?document.scrollTop:window.pageYOffset,t.prevActiveElement=document.activeElement,s=i(s),o("60px","50%",r[0],"galleryintrotourui-card-welcome","welcome",0);for(var f=1;f<r.length;f++){var l=r[f],c=document.getElementById(l.target),h,p=f;c&&(h=n(c),id="galleryintrotourui-card-"+f,h=u(l,h),h[1]=h[1]+"px",h[0]=h[0]+"px",f===r.length-2&&(f="end"),o(h[1],h[0],l,id,"",f,p))}o("60px","50%",r[r.length-1],"galleryintrotourui-card-endtour","end",0),window.scrollTo(0,0),e.one("#galleryintrotourui-card-welcome").setStyle("display","block"),e.one("#yui-galleryintrotourui-buttonwelcome-id").focus(),e.on("click",function(){var t=this.getAttribute("data-seqid"),n="",r="";this.blur(),e.all(".yui-galleryintrotourui-card").setStyle("display","none"),t==="welcome"?(n="#galleryintrotourui-card-1",r="#yui-galleryintrotourui-buttonnav-1"):t==="end"?(n="#galleryintrotourui-card-endtour",r="#yui-galleryintrotourui-buttontourend-id"):(t++,n="#galleryintrotourui-card-"+t,r="#yui-galleryintrotourui-buttonnav-"+t);if(this.getAttribute("id")==="yui-galleryintrotourui-buttontourend-id")e.all(".yui-galleryintrotourui-card").setStyle("display","none");else{e.one(n).setStyle("display","block"),e.one(r).focus();if(t!=="end"){var i=e.one(n).getStyle("top"),s=e.one(n).getStyle("left");i=i.split("px"),s=s.split("px"),window.scrollTo(s[0],i[0])}else window.scrollTo(0,0)}},".yui-galleryintrotourui-card-next"),e.on("click",a,".yui-galleryintrotourui-card-closebutton"),e.one("body").on("key",a,"esc")}},"0.1.1",{requires:["node","event"]})},"gallery-2013.10.14-07-00",{use:["yui-base","yui3","node","event"],requires:["yui-base"]});
