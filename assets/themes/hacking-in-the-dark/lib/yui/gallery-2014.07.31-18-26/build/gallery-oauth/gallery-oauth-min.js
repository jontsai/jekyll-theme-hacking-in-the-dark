YUI.add("gallery-oauth",function(e,t){var n="http://oauth.googlecode.com/svn/code/javascript/",r=["oauth","sha1"],i=0;YUI.Env.oauthLoaded||e.each(r,function(t){var s=n+t+".js";e.Get.script(s,{onSuccess:function(){i++,i===r.length&&(YUI.Env.oauthLoaded=!0,e.oAuth.fire())}})}),e.namespace("oAuth"),e.oAuth={fire:function(){e.each(e.oAuth._items,function(t,n){t(),delete e.oAuth._items[n]})},ready:function(t){YUI.Env.oauthLoaded?t():e.oAuth._items.push(t)},_items:[],signURL:function(t,n,r){var i={consumerSecret:n,tokenSecret:""},s="",o="",u="",a="",f="",l,c,h,p={action:r,method:"GET",parameters:[["oauth_version","1.0"],["oauth_consumer_key",t]]};return OAuth.setTimestampAndNonce(p),OAuth.SignatureMethod.sign(p,i),u=OAuth.getParameterMap(p),o=OAuth.decodeForm(OAuth.SignatureMethod.getBaseString(p)),u.parameters&&e.each(u.parameters,function(t){e.each(t,function(e){e=="oauth_signature"&&(a=t[1])})}),h=o[2][0].split("&"),h.push("oauth_signature="+encodeURIComponent(a)),h.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:e[1]<t[1]?-1:e[1]>t[1]?1:0}),e.each(h,function(e,t){f+=h[t]+"&"}),s=o[1][0]+"?"+f.slice(0,f.length-1),s}},e.YQLRequest&&(e.YQLRequest.prototype._send=e.YQLRequest.prototype.send,e.YQLRequest.prototype.send=function(){this._params.key&&this._params.secret&&(this._opts||(this._opts={}),this._opts.key=this._params.key,this._opts.secret=this._params.secret,delete this._params.key,delete this._params.secret,this._params.base&&(this._opts.base=this._params.base,delete this._params.base),e.Lang.isFunction(this._callback)&&(this._callback={on:{success:this._callback}}),this._callback.format=e.bind(function(t,n){var t=e.oAuth.signURL(this._opts.key,this._opts.secret,t+"&callback="+n);return t},this)),this._send()})},"gallery-2012.12.05-21-01",{requires:["jsonp"],supersedes:[],optional:["yql"],skinnable:!1});
