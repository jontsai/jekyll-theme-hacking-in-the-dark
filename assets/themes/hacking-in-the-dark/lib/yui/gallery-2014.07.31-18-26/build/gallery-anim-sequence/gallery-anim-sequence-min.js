YUI.add("gallery-anim-sequence",function(e){function d(f){this._list=[];d.superclass.constructor.apply(this,arguments);}d.NAME="AnimSequence";d.ATTRS={reverse:{value:false,validator:e.Lang.isBoolean},iterations:{value:1,validator:function(f){return e.Lang.isNumber(f)||f=="infinite";}},iterationCount:{value:0,readOnly:true},direction:{value:"normal",validator:function(f){return f=="normal"||f=="alternate";}},running:{value:false,validator:e.Lang.isBoolean,readOnly:true},paused:{value:false,validator:e.Lang.isBoolean,readOnly:true}};function c(){if(this.get("paused")){return;}var f=this.get("reverse");if((!f&&this._index>=this._list.length)||(f&&this._index<0)){var g=this.get("iterations"),i=this.get("iterationCount")+1;if(g=="infinite"||i<g){if(this.get("direction")=="alternate"){this.set("reverse",!f);}this._set("iterationCount",i);this._index=this.get("reverse")?this._list.length-1:0;c.call(this);}else{this._set("running",false);this.fire("end");}return;}var h=this._list[this._index];if(e.Lang.isArray(h)){var j=new e.Parallel();e.each(h,function(k){k.once("end",j.add());k.set("reverse",f);k.run();},this);j.done(e.bind(c,this));}else{if((h instanceof e.Anim)||(h instanceof e.AnimSequence)){h.once("end",c,this);h.set("reverse",f);h.run();}else{if(e.Lang.isFunction(h)){e.later(0,this,function(){h.call(null,f);c.call(this);});}else{if(e.Lang.isNumber(h)){e.later(h,this,c);}else{throw Error("unknown item type in sequence: "+h);}}}}this._index+=f?-1:+1;}e.extend(d,e.Base,{initializer:function(f){if(e.Lang.isArray(f.sequence)){this.append.apply(this,f.sequence);}},append:function(g){if(arguments.length==1){this._list.push(g);}else{e.each(e.Array(arguments),function h(f){this._list.push(f);},this);}},prepend:function(g){if(arguments.length==1){this._list.unshift(g);}else{e.each(e.Array(arguments),function h(f){this._list.unshift(f);},this);}},run:function(){if(this.get("paused")){this._set("paused",false);this.fire("resume");}else{this._set("iterationCount",0);this._set("running",true);this.fire("start");this._index=this.get("reverse")?this._list.length-1:0;}c.call(this);return this;},stop:function(g){this._set("running",false);this._set("paused",false);for(var f=this._index;f<this._list.length;f++){var h=this._list[f];if(e.Lang.isArray(h)){e.each(h,function(i){i.run();i.stop(g);},this);}else{if((h instanceof e.Anim)||(h instanceof e.AnimSequence)){h.run();h.stop(g);}}if(!g){break;}}this.fire("end");return this;},pause:function(){this._set("paused",true);var f=this._list[this._index];if(e.Lang.isArray(f)){e.each(f,function(g){g.pause();},this);}else{if((f instanceof e.Anim)||(f instanceof e.AnimSequence)){f.pause();}}this.fire("pause");return this;}});e.AnimSequence=d;var b=function(f){this._host=f.host;b.superclass.constructor.apply(this,arguments);};b.NAME="nodefxseq";b.NS="fx";function a(f){if(e.Lang.isArray(f)){e.each(f,function(g){g.set("node",this._host);},this);}else{if(f instanceof e.Anim){f.set("node",this._host);}}}e.extend(b,e.AnimSequence,{append:function(f){if(arguments.length>1){e.each(arguments,a,this);}else{a.call(this,f);}b.superclass.append.apply(this,arguments);},prepend:function(f){if(arguments.length>1){e.each(arguments,a,this);}else{a.call(this,f);}b.superclass.prepend.apply(this,arguments);}});e.namespace("Plugin");e.Plugin.NodeFXSequence=b;},"gallery-2012.07.25-21-36",{requires:["anim-base","parallel","node-pluginhost"]});