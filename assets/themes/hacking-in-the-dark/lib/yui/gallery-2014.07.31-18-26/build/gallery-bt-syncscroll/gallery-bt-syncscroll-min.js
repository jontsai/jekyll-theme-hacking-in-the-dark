YUI.add("gallery-bt-syncscroll",function(e,t){var n="widthChange",r="btSyncScreen",i=function(){var t=!1,n=this;e.once("btReady",function(){t?n._bssInitParentScroll():n.after("render",function(){n._bssInitParentScroll()})}),t=!0};i.ATTRS={syncScrollMethod:{writeOnce:!0,validator:e.Lang.isFunction}},i.prototype={destructor:function(){this._bssResizeHandle&&(this._bssResizeHandle.detach(),delete this._bssResizeHandle),this._bssHandle&&(this._bssHandle.detach(),delete this._bssHandle),delete this._bssParentScroll},_bssInitParentScroll:function(){var t=this.get("syncScrollMethod"),i=e.Bottle.Page.getCurrent(),s=[this.after(n,t,this)];this._bssParentScroll=e.Widget.getByNode(this.get("boundingBox").ancestor(".yui3-scrollview")),t&&(this._bssParentScroll&&s.push(this._bssParentScroll.after(n,t,this)),(!i||i.get("nativeScroll"))&&s.push(e.on(r,e.bind(t,this))),this._bssHandle=new e.EventHandle(s)),this.syncScroll()},syncScroll:function(){var e=this._bssParentScroll;e&&(e._uiDimensionsChange(),this.fixScrollPosition())},fixScrollPosition:function(){var e=this._bssParentScroll;e&&e._maxScrollY&&e.scrollTo(e.get("scrollX"),Math.min(e.get("scrollY"),e._maxScrollY))}},e.namespace("Bottle").SyncScroll=i},"gallery-2013.04.10-22-48",{requires:["gallery-bt-page"]});
