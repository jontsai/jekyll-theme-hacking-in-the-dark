if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/gallery-facebook-dao/gallery-facebook-dao.js']) {
   __coverage__['build/gallery-facebook-dao/gallery-facebook-dao.js'] = {"path":"build/gallery-facebook-dao/gallery-facebook-dao.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":32},"end":{"line":1,"column":51}}},"2":{"name":"FacebookDAO","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":36}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":19},"end":{"line":37,"column":47}}},"4":{"name":"(anonymous_4)","line":38,"loc":{"start":{"line":38,"column":33},"end":{"line":38,"column":53}}},"5":{"name":"(anonymous_5)","line":43,"loc":{"start":{"line":43,"column":17},"end":{"line":43,"column":47}}},"6":{"name":"(anonymous_6)","line":44,"loc":{"start":{"line":44,"column":53},"end":{"line":44,"column":70}}},"7":{"name":"(anonymous_7)","line":62,"loc":{"start":{"line":62,"column":23},"end":{"line":62,"column":35}}},"8":{"name":"(anonymous_8)","line":63,"loc":{"start":{"line":63,"column":9},"end":{"line":63,"column":22}}},"9":{"name":"(anonymous_9)","line":77,"loc":{"start":{"line":77,"column":21},"end":{"line":77,"column":33}}},"10":{"name":"(anonymous_10)","line":79,"loc":{"start":{"line":79,"column":29},"end":{"line":79,"column":41}}},"11":{"name":"(anonymous_11)","line":85,"loc":{"start":{"line":85,"column":16},"end":{"line":85,"column":28}}},"12":{"name":"(anonymous_12)","line":95,"loc":{"start":{"line":95,"column":17},"end":{"line":95,"column":29}}},"13":{"name":"(anonymous_13)","line":97,"loc":{"start":{"line":97,"column":26},"end":{"line":97,"column":46}}},"14":{"name":"(anonymous_14)","line":106,"loc":{"start":{"line":106,"column":12},"end":{"line":106,"column":24}}},"15":{"name":"(anonymous_15)","line":108,"loc":{"start":{"line":108,"column":17},"end":{"line":108,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":118,"column":69}},"2":{"start":{"line":11,"column":0},"end":{"line":15,"column":1}},"3":{"start":{"line":12,"column":4},"end":{"line":12,"column":39}},"4":{"start":{"line":13,"column":4},"end":{"line":13,"column":27}},"5":{"start":{"line":14,"column":4},"end":{"line":14,"column":29}},"6":{"start":{"line":17,"column":0},"end":{"line":114,"column":2}},"7":{"start":{"line":38,"column":8},"end":{"line":59,"column":11}},"8":{"start":{"line":39,"column":12},"end":{"line":39,"column":33}},"9":{"start":{"line":40,"column":12},"end":{"line":40,"column":47}},"10":{"start":{"line":41,"column":12},"end":{"line":58,"column":13}},"11":{"start":{"line":42,"column":16},"end":{"line":42,"column":56}},"12":{"start":{"line":43,"column":16},"end":{"line":57,"column":35}},"13":{"start":{"line":44,"column":20},"end":{"line":56,"column":23}},"14":{"start":{"line":45,"column":24},"end":{"line":45,"column":53}},"15":{"start":{"line":46,"column":24},"end":{"line":46,"column":52}},"16":{"start":{"line":47,"column":24},"end":{"line":47,"column":105}},"17":{"start":{"line":48,"column":24},"end":{"line":51,"column":26}},"18":{"start":{"line":52,"column":24},"end":{"line":52,"column":60}},"19":{"start":{"line":53,"column":24},"end":{"line":55,"column":25}},"20":{"start":{"line":54,"column":28},"end":{"line":54,"column":44}},"21":{"start":{"line":63,"column":8},"end":{"line":74,"column":28}},"22":{"start":{"line":64,"column":12},"end":{"line":65,"column":58}},"23":{"start":{"line":66,"column":12},"end":{"line":68,"column":13}},"24":{"start":{"line":67,"column":16},"end":{"line":67,"column":23}},"25":{"start":{"line":69,"column":12},"end":{"line":69,"column":43}},"26":{"start":{"line":70,"column":12},"end":{"line":70,"column":23}},"27":{"start":{"line":71,"column":12},"end":{"line":71,"column":28}},"28":{"start":{"line":72,"column":12},"end":{"line":72,"column":64}},"29":{"start":{"line":73,"column":12},"end":{"line":73,"column":49}},"30":{"start":{"line":78,"column":8},"end":{"line":78,"column":22}},"31":{"start":{"line":79,"column":8},"end":{"line":82,"column":10}},"32":{"start":{"line":80,"column":12},"end":{"line":80,"column":28}},"33":{"start":{"line":81,"column":12},"end":{"line":81,"column":29}},"34":{"start":{"line":86,"column":8},"end":{"line":92,"column":11}},"35":{"start":{"line":96,"column":8},"end":{"line":96,"column":22}},"36":{"start":{"line":97,"column":8},"end":{"line":103,"column":11}},"37":{"start":{"line":98,"column":12},"end":{"line":101,"column":13}},"38":{"start":{"line":99,"column":16},"end":{"line":99,"column":28}},"39":{"start":{"line":100,"column":16},"end":{"line":100,"column":23}},"40":{"start":{"line":102,"column":12},"end":{"line":102,"column":46}},"41":{"start":{"line":107,"column":8},"end":{"line":107,"column":22}},"42":{"start":{"line":108,"column":8},"end":{"line":110,"column":11}},"43":{"start":{"line":109,"column":12},"end":{"line":109,"column":46}},"44":{"start":{"line":116,"column":0},"end":{"line":116,"column":28}}},"branchMap":{"1":{"line":47,"type":"cond-expr","locations":[{"start":{"line":47,"column":55},"end":{"line":47,"column":67}},{"start":{"line":47,"column":71},"end":{"line":47,"column":103}}]},"2":{"line":47,"type":"cond-expr","locations":[{"start":{"line":47,"column":86},"end":{"line":47,"column":96}},{"start":{"line":47,"column":99},"end":{"line":47,"column":103}}]},"3":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":24},"end":{"line":53,"column":24}},{"start":{"line":53,"column":24},"end":{"line":53,"column":24}}]},"4":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":12},"end":{"line":66,"column":12}},{"start":{"line":66,"column":12},"end":{"line":66,"column":12}}]},"5":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":12},"end":{"line":98,"column":12}},{"start":{"line":98,"column":12},"end":{"line":98,"column":12}}]},"6":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":16},"end":{"line":98,"column":52}},{"start":{"line":98,"column":56},"end":{"line":98,"column":91}}]}},"code":["(function () { YUI.add('gallery-facebook-dao', function (Y, NAME) {","","/**"," * Facebook dao is an utility to add progressive functionality to retrieve and update data from facebook using graph api"," *"," * @class FacebookDAO"," * @module gallery-facebook-dao"," * @constructor"," * @param configuration {Object} Is the configuration object"," */","function FacebookDAO(configuration) {","    this.configuration = configuration;","    this._initDataAccess();","    this._loadFBComponents();","}","","FacebookDAO.prototype = {","","    /**","     * Configuration object","     *","     * @property configuration","     * @type {Object}","     */","    configuration: {","","        fbAppId: null","    },","","    /**","     * Retrieves the list of posts of sites or pages from facebook","     *","     * @method listSitePosts","     * @param {String} siteId Is the site id of the site or page where are going to be retrieved the posts","     * @param {Function} callback A callback function executed when the results are ready","     */","    listSitePosts: function (siteId, callback) {","        FB.api(siteId + '/feed', function (response) {","            var posts = response;","            var postsCount = posts.data.length;","            for (var i = 0; i < posts.data.length; i++) {","                var messageFrom = posts.data[i].from.id;","                (function (messageFrom, index) {","                    FB.api(messageFrom + '/picture', function (image) {","                        var post = posts.data[index];","                        postsCount = postsCount - 1;","                        var message = (post.message) ? post.message : ((post.story) ? post.story : null);","                        var fb_data = {","                            message: message,","                            portrait_image: image.data.url","                        };","                        posts.data[index].fb_data = fb_data;","                        if (postsCount == 0) {","                            callback(posts);","                        }","                    });","                })(messageFrom, i);","            }","        });","    },","","    _loadFBComponents: function () {","        (function (d) {","            var js, id = 'facebook-jssdk',","                ref = d.getElementsByTagName('script')[0];","            if (d.getElementById(id)) {","                return;","            }","            js = d.createElement('script');","            js.id = id;","            js.async = true;","            js.src = \"http://connect.facebook.net/en_US/all.js\";","            ref.parentNode.insertBefore(js, ref);","        }(document, false));","    },","","    _initDataAccess: function () {","        var me = this;","        window.fbAsyncInit = function () {","            me._initFBApi();","            me._checkLogin();","        };","    },","","    _initFBApi: function () {","        FB.init({","            appId: this.configuration.fbAppId,","            channelUrl: this.configuration.fbChannelFile,","            status: true,","            cookie: true,","            xfbml: true","        });","    },","","    _checkLogin: function () {","        var me = this;","        FB.getLoginStatus(function (response) {","            if (response.status === 'not_authorized' || response.status === 'not_logged_in') {","                me._login();","                return;","            }","            me.configuration.onInit(response);","        });","    },","","    _login: function () {","        var me = this;","        FB.login(function (response) {","            me.configuration.onInit(response);","        });","    }","","","};","","Y.FacebookDAO = FacebookDAO;","","}, 'gallery-2013.04.03-19-53', {\"requires\": [\"base-build\", \"base\"]});","","}());"]};
}
var __cov_VquJUwhawSa0bJbiPxUX7w = __coverage__['build/gallery-facebook-dao/gallery-facebook-dao.js'];
__cov_VquJUwhawSa0bJbiPxUX7w.s['1']++;YUI.add('gallery-facebook-dao',function(Y,NAME){__cov_VquJUwhawSa0bJbiPxUX7w.f['1']++;__cov_VquJUwhawSa0bJbiPxUX7w.s['2']++;function FacebookDAO(configuration){__cov_VquJUwhawSa0bJbiPxUX7w.f['2']++;__cov_VquJUwhawSa0bJbiPxUX7w.s['3']++;this.configuration=configuration;__cov_VquJUwhawSa0bJbiPxUX7w.s['4']++;this._initDataAccess();__cov_VquJUwhawSa0bJbiPxUX7w.s['5']++;this._loadFBComponents();}__cov_VquJUwhawSa0bJbiPxUX7w.s['6']++;FacebookDAO.prototype={configuration:{fbAppId:null},listSitePosts:function(siteId,callback){__cov_VquJUwhawSa0bJbiPxUX7w.f['3']++;__cov_VquJUwhawSa0bJbiPxUX7w.s['7']++;FB.api(siteId+'/feed',function(response){__cov_VquJUwhawSa0bJbiPxUX7w.f['4']++;__cov_VquJUwhawSa0bJbiPxUX7w.s['8']++;var posts=response;__cov_VquJUwhawSa0bJbiPxUX7w.s['9']++;var postsCount=posts.data.length;__cov_VquJUwhawSa0bJbiPxUX7w.s['10']++;for(var i=0;i<posts.data.length;i++){__cov_VquJUwhawSa0bJbiPxUX7w.s['11']++;var messageFrom=posts.data[i].from.id;__cov_VquJUwhawSa0bJbiPxUX7w.s['12']++;(function(messageFrom,index){__cov_VquJUwhawSa0bJbiPxUX7w.f['5']++;__cov_VquJUwhawSa0bJbiPxUX7w.s['13']++;FB.api(messageFrom+'/picture',function(image){__cov_VquJUwhawSa0bJbiPxUX7w.f['6']++;__cov_VquJUwhawSa0bJbiPxUX7w.s['14']++;var post=posts.data[index];__cov_VquJUwhawSa0bJbiPxUX7w.s['15']++;postsCount=postsCount-1;__cov_VquJUwhawSa0bJbiPxUX7w.s['16']++;var message=post.message?(__cov_VquJUwhawSa0bJbiPxUX7w.b['1'][0]++,post.message):(__cov_VquJUwhawSa0bJbiPxUX7w.b['1'][1]++,post.story?(__cov_VquJUwhawSa0bJbiPxUX7w.b['2'][0]++,post.story):(__cov_VquJUwhawSa0bJbiPxUX7w.b['2'][1]++,null));__cov_VquJUwhawSa0bJbiPxUX7w.s['17']++;var fb_data={message:message,portrait_image:image.data.url};__cov_VquJUwhawSa0bJbiPxUX7w.s['18']++;posts.data[index].fb_data=fb_data;__cov_VquJUwhawSa0bJbiPxUX7w.s['19']++;if(postsCount==0){__cov_VquJUwhawSa0bJbiPxUX7w.b['3'][0]++;__cov_VquJUwhawSa0bJbiPxUX7w.s['20']++;callback(posts);}else{__cov_VquJUwhawSa0bJbiPxUX7w.b['3'][1]++;}});}(messageFrom,i));}});},_loadFBComponents:function(){__cov_VquJUwhawSa0bJbiPxUX7w.f['7']++;__cov_VquJUwhawSa0bJbiPxUX7w.s['21']++;(function(d){__cov_VquJUwhawSa0bJbiPxUX7w.f['8']++;__cov_VquJUwhawSa0bJbiPxUX7w.s['22']++;var js,id='facebook-jssdk',ref=d.getElementsByTagName('script')[0];__cov_VquJUwhawSa0bJbiPxUX7w.s['23']++;if(d.getElementById(id)){__cov_VquJUwhawSa0bJbiPxUX7w.b['4'][0]++;__cov_VquJUwhawSa0bJbiPxUX7w.s['24']++;return;}else{__cov_VquJUwhawSa0bJbiPxUX7w.b['4'][1]++;}__cov_VquJUwhawSa0bJbiPxUX7w.s['25']++;js=d.createElement('script');__cov_VquJUwhawSa0bJbiPxUX7w.s['26']++;js.id=id;__cov_VquJUwhawSa0bJbiPxUX7w.s['27']++;js.async=true;__cov_VquJUwhawSa0bJbiPxUX7w.s['28']++;js.src='http://connect.facebook.net/en_US/all.js';__cov_VquJUwhawSa0bJbiPxUX7w.s['29']++;ref.parentNode.insertBefore(js,ref);}(document,false));},_initDataAccess:function(){__cov_VquJUwhawSa0bJbiPxUX7w.f['9']++;__cov_VquJUwhawSa0bJbiPxUX7w.s['30']++;var me=this;__cov_VquJUwhawSa0bJbiPxUX7w.s['31']++;window.fbAsyncInit=function(){__cov_VquJUwhawSa0bJbiPxUX7w.f['10']++;__cov_VquJUwhawSa0bJbiPxUX7w.s['32']++;me._initFBApi();__cov_VquJUwhawSa0bJbiPxUX7w.s['33']++;me._checkLogin();};},_initFBApi:function(){__cov_VquJUwhawSa0bJbiPxUX7w.f['11']++;__cov_VquJUwhawSa0bJbiPxUX7w.s['34']++;FB.init({appId:this.configuration.fbAppId,channelUrl:this.configuration.fbChannelFile,status:true,cookie:true,xfbml:true});},_checkLogin:function(){__cov_VquJUwhawSa0bJbiPxUX7w.f['12']++;__cov_VquJUwhawSa0bJbiPxUX7w.s['35']++;var me=this;__cov_VquJUwhawSa0bJbiPxUX7w.s['36']++;FB.getLoginStatus(function(response){__cov_VquJUwhawSa0bJbiPxUX7w.f['13']++;__cov_VquJUwhawSa0bJbiPxUX7w.s['37']++;if((__cov_VquJUwhawSa0bJbiPxUX7w.b['6'][0]++,response.status==='not_authorized')||(__cov_VquJUwhawSa0bJbiPxUX7w.b['6'][1]++,response.status==='not_logged_in')){__cov_VquJUwhawSa0bJbiPxUX7w.b['5'][0]++;__cov_VquJUwhawSa0bJbiPxUX7w.s['38']++;me._login();__cov_VquJUwhawSa0bJbiPxUX7w.s['39']++;return;}else{__cov_VquJUwhawSa0bJbiPxUX7w.b['5'][1]++;}__cov_VquJUwhawSa0bJbiPxUX7w.s['40']++;me.configuration.onInit(response);});},_login:function(){__cov_VquJUwhawSa0bJbiPxUX7w.f['14']++;__cov_VquJUwhawSa0bJbiPxUX7w.s['41']++;var me=this;__cov_VquJUwhawSa0bJbiPxUX7w.s['42']++;FB.login(function(response){__cov_VquJUwhawSa0bJbiPxUX7w.f['15']++;__cov_VquJUwhawSa0bJbiPxUX7w.s['43']++;me.configuration.onInit(response);});}};__cov_VquJUwhawSa0bJbiPxUX7w.s['44']++;Y.FacebookDAO=FacebookDAO;},'gallery-2013.04.03-19-53',{'requires':['base-build','base']});
