if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/gallery-dd-plugin-momentum/gallery-dd-plugin-momentum.js']) {
   __coverage__['build/gallery-dd-plugin-momentum/gallery-dd-plugin-momentum.js'] = {"path":"build/gallery-dd-plugin-momentum/gallery-dd-plugin-momentum.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0},"b":{"1":[0,0],"2":[0,0,0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":38},"end":{"line":1,"column":57}}},"2":{"name":"DDMomentumPlugin","line":7,"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":38}}},"3":{"name":"(anonymous_3)","line":16,"loc":{"start":{"line":16,"column":21},"end":{"line":16,"column":39}}},"4":{"name":"(anonymous_4)","line":20,"loc":{"start":{"line":20,"column":48},"end":{"line":20,"column":60}}},"5":{"name":"(anonymous_5)","line":21,"loc":{"start":{"line":21,"column":167},"end":{"line":21,"column":196}}},"6":{"name":"(anonymous_6)","line":66,"loc":{"start":{"line":66,"column":20},"end":{"line":66,"column":32}}},"7":{"name":"(anonymous_7)","line":74,"loc":{"start":{"line":74,"column":26},"end":{"line":74,"column":38}}},"8":{"name":"(anonymous_8)","line":84,"loc":{"start":{"line":84,"column":26},"end":{"line":84,"column":38}}},"9":{"name":"(anonymous_9)","line":95,"loc":{"start":{"line":95,"column":26},"end":{"line":95,"column":39}}},"10":{"name":"(anonymous_10)","line":115,"loc":{"start":{"line":115,"column":21},"end":{"line":115,"column":34}}},"11":{"name":"(anonymous_11)","line":136,"loc":{"start":{"line":136,"column":24},"end":{"line":136,"column":37}}},"12":{"name":"(anonymous_12)","line":174,"loc":{"start":{"line":174,"column":30},"end":{"line":174,"column":42}}},"13":{"name":"(anonymous_13)","line":182,"loc":{"start":{"line":182,"column":25},"end":{"line":182,"column":37}}},"14":{"name":"(anonymous_14)","line":203,"loc":{"start":{"line":203,"column":20},"end":{"line":203,"column":52}}},"15":{"name":"(anonymous_15)","line":223,"loc":{"start":{"line":223,"column":24},"end":{"line":223,"column":53}}},"16":{"name":"(anonymous_16)","line":242,"loc":{"start":{"line":242,"column":19},"end":{"line":242,"column":37}}},"17":{"name":"(anonymous_17)","line":269,"loc":{"start":{"line":269,"column":45},"end":{"line":269,"column":57}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":285,"column":85}},"2":{"start":{"line":7,"column":4},"end":{"line":9,"column":5}},"3":{"start":{"line":8,"column":8},"end":{"line":8,"column":71}},"4":{"start":{"line":11,"column":4},"end":{"line":11,"column":47}},"5":{"start":{"line":12,"column":4},"end":{"line":12,"column":31}},"6":{"start":{"line":13,"column":4},"end":{"line":13,"column":32}},"7":{"start":{"line":15,"column":4},"end":{"line":280,"column":7}},"8":{"start":{"line":18,"column":12},"end":{"line":25,"column":13}},"9":{"start":{"line":20,"column":16},"end":{"line":24,"column":21}},"10":{"start":{"line":21,"column":20},"end":{"line":23,"column":22}},"11":{"start":{"line":22,"column":24},"end":{"line":22,"column":63}},"12":{"start":{"line":27,"column":12},"end":{"line":27,"column":32}},"13":{"start":{"line":31,"column":12},"end":{"line":31,"column":56}},"14":{"start":{"line":34,"column":12},"end":{"line":34,"column":101}},"15":{"start":{"line":37,"column":12},"end":{"line":37,"column":81}},"16":{"start":{"line":39,"column":12},"end":{"line":39,"column":30}},"17":{"start":{"line":41,"column":12},"end":{"line":41,"column":60}},"18":{"start":{"line":43,"column":12},"end":{"line":43,"column":53}},"19":{"start":{"line":45,"column":12},"end":{"line":45,"column":34}},"20":{"start":{"line":46,"column":12},"end":{"line":46,"column":34}},"21":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"22":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}},"23":{"start":{"line":52,"column":12},"end":{"line":52,"column":31}},"24":{"start":{"line":54,"column":12},"end":{"line":54,"column":31}},"25":{"start":{"line":56,"column":12},"end":{"line":56,"column":61}},"26":{"start":{"line":59,"column":12},"end":{"line":59,"column":36}},"27":{"start":{"line":60,"column":12},"end":{"line":60,"column":39}},"28":{"start":{"line":61,"column":12},"end":{"line":61,"column":41}},"29":{"start":{"line":63,"column":12},"end":{"line":63,"column":36}},"30":{"start":{"line":67,"column":12},"end":{"line":67,"column":36}},"31":{"start":{"line":75,"column":12},"end":{"line":75,"column":99}},"32":{"start":{"line":76,"column":12},"end":{"line":76,"column":88}},"33":{"start":{"line":77,"column":12},"end":{"line":77,"column":93}},"34":{"start":{"line":85,"column":12},"end":{"line":85,"column":44}},"35":{"start":{"line":86,"column":12},"end":{"line":86,"column":39}},"36":{"start":{"line":87,"column":12},"end":{"line":87,"column":42}},"37":{"start":{"line":96,"column":12},"end":{"line":96,"column":38}},"38":{"start":{"line":97,"column":12},"end":{"line":97,"column":30}},"39":{"start":{"line":98,"column":12},"end":{"line":98,"column":43}},"40":{"start":{"line":99,"column":12},"end":{"line":99,"column":34}},"41":{"start":{"line":100,"column":12},"end":{"line":100,"column":34}},"42":{"start":{"line":101,"column":12},"end":{"line":101,"column":51}},"43":{"start":{"line":105,"column":12},"end":{"line":107,"column":13}},"44":{"start":{"line":106,"column":16},"end":{"line":106,"column":65}},"45":{"start":{"line":116,"column":12},"end":{"line":116,"column":47}},"46":{"start":{"line":119,"column":12},"end":{"line":129,"column":13}},"47":{"start":{"line":121,"column":16},"end":{"line":121,"column":37}},"48":{"start":{"line":125,"column":16},"end":{"line":125,"column":37}},"49":{"start":{"line":127,"column":16},"end":{"line":127,"column":37}},"50":{"start":{"line":137,"column":12},"end":{"line":137,"column":35}},"51":{"start":{"line":139,"column":12},"end":{"line":140,"column":80}},"52":{"start":{"line":143,"column":12},"end":{"line":145,"column":13}},"53":{"start":{"line":144,"column":16},"end":{"line":144,"column":23}},"54":{"start":{"line":149,"column":12},"end":{"line":155,"column":13}},"55":{"start":{"line":150,"column":16},"end":{"line":153,"column":19}},"56":{"start":{"line":154,"column":16},"end":{"line":154,"column":23}},"57":{"start":{"line":158,"column":12},"end":{"line":158,"column":40}},"58":{"start":{"line":160,"column":12},"end":{"line":160,"column":35}},"59":{"start":{"line":162,"column":12},"end":{"line":166,"column":15}},"60":{"start":{"line":175,"column":12},"end":{"line":175,"column":107}},"61":{"start":{"line":183,"column":12},"end":{"line":185,"column":18}},"62":{"start":{"line":187,"column":12},"end":{"line":190,"column":13}},"63":{"start":{"line":188,"column":16},"end":{"line":188,"column":54}},"64":{"start":{"line":189,"column":16},"end":{"line":189,"column":54}},"65":{"start":{"line":192,"column":12},"end":{"line":192,"column":62}},"66":{"start":{"line":193,"column":12},"end":{"line":193,"column":62}},"67":{"start":{"line":195,"column":12},"end":{"line":195,"column":44}},"68":{"start":{"line":204,"column":12},"end":{"line":206,"column":48}},"69":{"start":{"line":208,"column":12},"end":{"line":210,"column":13}},"70":{"start":{"line":209,"column":16},"end":{"line":209,"column":34}},"71":{"start":{"line":212,"column":12},"end":{"line":214,"column":13}},"72":{"start":{"line":213,"column":16},"end":{"line":213,"column":34}},"73":{"start":{"line":216,"column":12},"end":{"line":216,"column":28}},"74":{"start":{"line":224,"column":12},"end":{"line":224,"column":24}},"75":{"start":{"line":226,"column":12},"end":{"line":226,"column":50}},"76":{"start":{"line":228,"column":12},"end":{"line":228,"column":88}},"77":{"start":{"line":230,"column":12},"end":{"line":232,"column":13}},"78":{"start":{"line":231,"column":16},"end":{"line":231,"column":39}},"79":{"start":{"line":234,"column":12},"end":{"line":234,"column":27}},"80":{"start":{"line":243,"column":12},"end":{"line":247,"column":19}},"81":{"start":{"line":249,"column":12},"end":{"line":249,"column":45}},"82":{"start":{"line":251,"column":12},"end":{"line":251,"column":48}},"83":{"start":{"line":252,"column":12},"end":{"line":252,"column":48}},"84":{"start":{"line":254,"column":12},"end":{"line":254,"column":35}},"85":{"start":{"line":256,"column":12},"end":{"line":259,"column":13}},"86":{"start":{"line":257,"column":16},"end":{"line":257,"column":49}},"87":{"start":{"line":258,"column":16},"end":{"line":258,"column":107}},"88":{"start":{"line":261,"column":12},"end":{"line":264,"column":13}},"89":{"start":{"line":262,"column":16},"end":{"line":262,"column":49}},"90":{"start":{"line":263,"column":16},"end":{"line":263,"column":105}},"91":{"start":{"line":267,"column":12},"end":{"line":278,"column":13}},"92":{"start":{"line":268,"column":16},"end":{"line":268,"column":77}},"93":{"start":{"line":269,"column":16},"end":{"line":271,"column":19}},"94":{"start":{"line":270,"column":20},"end":{"line":270,"column":40}},"95":{"start":{"line":274,"column":16},"end":{"line":277,"column":19}},"96":{"start":{"line":282,"column":4},"end":{"line":282,"column":42}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":12},"end":{"line":18,"column":12}},{"start":{"line":18,"column":12},"end":{"line":18,"column":12}}]},"2":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":27},"end":{"line":21,"column":61}},{"start":{"line":21,"column":65},"end":{"line":21,"column":96}},{"start":{"line":21,"column":100},"end":{"line":21,"column":129}},{"start":{"line":21,"column":133},"end":{"line":21,"column":163}},{"start":{"line":21,"column":167},"end":{"line":23,"column":21}}]},"3":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":32},"end":{"line":31,"column":50}},{"start":{"line":31,"column":54},"end":{"line":31,"column":55}}]},"4":{"line":34,"type":"cond-expr","locations":[{"start":{"line":34,"column":76},"end":{"line":34,"column":94}},{"start":{"line":34,"column":97},"end":{"line":34,"column":100}}]},"5":{"line":37,"type":"cond-expr","locations":[{"start":{"line":37,"column":62},"end":{"line":37,"column":73}},{"start":{"line":37,"column":76},"end":{"line":37,"column":80}}]},"6":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":34},"end":{"line":41,"column":54}},{"start":{"line":41,"column":58},"end":{"line":41,"column":59}}]},"7":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":12},"end":{"line":105,"column":12}},{"start":{"line":105,"column":12},"end":{"line":105,"column":12}}]},"8":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":12},"end":{"line":119,"column":12}},{"start":{"line":119,"column":12},"end":{"line":119,"column":12}}]},"9":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":12},"end":{"line":143,"column":12}},{"start":{"line":143,"column":12},"end":{"line":143,"column":12}}]},"10":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":12},"end":{"line":149,"column":12}},{"start":{"line":149,"column":12},"end":{"line":149,"column":12}}]},"11":{"line":208,"type":"if","locations":[{"start":{"line":208,"column":12},"end":{"line":208,"column":12}},{"start":{"line":208,"column":12},"end":{"line":208,"column":12}}]},"12":{"line":212,"type":"if","locations":[{"start":{"line":212,"column":12},"end":{"line":212,"column":12}},{"start":{"line":212,"column":12},"end":{"line":212,"column":12}}]},"13":{"line":230,"type":"if","locations":[{"start":{"line":230,"column":12},"end":{"line":230,"column":12}},{"start":{"line":230,"column":12},"end":{"line":230,"column":12}}]},"14":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":12},"end":{"line":256,"column":12}},{"start":{"line":256,"column":12},"end":{"line":256,"column":12}}]},"15":{"line":261,"type":"if","locations":[{"start":{"line":261,"column":12},"end":{"line":261,"column":12}},{"start":{"line":261,"column":12},"end":{"line":261,"column":12}}]},"16":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":12},"end":{"line":267,"column":12}},{"start":{"line":267,"column":12},"end":{"line":267,"column":12}}]},"17":{"line":267,"type":"binary-expr","locations":[{"start":{"line":267,"column":16},"end":{"line":267,"column":64}},{"start":{"line":267,"column":68},"end":{"line":267,"column":116}}]}},"code":["(function () { YUI.add('gallery-dd-plugin-momentum', function (Y, NAME) {","","    /**","     * Plugin for the DD utility that adds momentum to dragged elements.","     * @class DDMomentumPlugin","     */","    function DDMomentumPlugin(config) {","        DDMomentumPlugin.superclass.constructor.apply(this, arguments);","    }","","    DDMomentumPlugin.NAME = \"DDMomentumPlugin\";","    DDMomentumPlugin.NS = \"as\";","    DDMomentumPlugin.ATTRS = {};","","    Y.extend(DDMomentumPlugin, Y.Plugin.Base, {","        initializer: function (config) {","            // RequestAnimationFrame shim ala Paul Irish & MDN.","            if (!window.requestAnimationFrame) {","","                window.requestAnimationFrame = (function () {","                    return window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback, element) {","                        window.setTimeout(callback, 1000 / 60);","                    };","                }());","            }","","            this.publish(\"end\");","","            /* Instance attributes that do not need to fire 'change' events */","            // max velocity to allow in px per animation frame","            this._maxVelocity = config.maxVelocity || 3;","            // min velocity to require or else end the slide in px per animation frame","            // use typeof to avoid accidental match on 0","            this._minVelocity = typeof config.minVelocity !== \"undefined\" ? config.minVelocity : 0.2;","            // amount of drag to apply at each frame of animation,","            // 1 == no drag, 0 == infinite drag","            this._drag = typeof config.drag !== \"undefined\" ? config.drag : 0.92;","            // time-ordered list of drag deltas","            this._deltas = [];","            // how many drag deltas to use to calculate mouse velocity at drag end","            this._deltasToCount = config.deltasToCount || 5;","            // the node to animate","            this._node = config.host.get(\"dragNode\");","            // total pixel offset over the slide","            this._totalDeltaX = 0;","            this._totalDeltaY = 0;","            // drag start position to calculate drag distance","            this._dragStartXY = [];","            // total offset from drag, excluding slide","            this._totalDragOffset = [0, 0];","            // duration of the last set of drag deltas","            this._duration = 0;","            // velocity of the mouse at release time","            this._velocity = 0;","            // flag to indicate delegate drag instead of normal drag","            this._delegate = config.host.name === \"delegate\";","","            /* Event listener references for easy cleanup later */","            this._listenDrag = null;","            this._listenDragEnd = null;","            this._listenDragStart = null;","","            this._attachListeners();","        },","","        destructor: function () {","            this._detachListeners();","        },","","        /**","         * Set up listeners on external elements.","         * @method _attachListeners","         */","        _attachListeners: function () {","            this._listenDragStart = this.afterHostEvent(\"drag:start\", this._handleDragStart, this);","            this._listenDrag = this.afterHostEvent(\"drag:drag\", this._handleDrag, this);","            this._listenDragEnd = this.afterHostEvent(\"drag:end\", this._handleDragEnd, this);","        },","","        /**","         * Clean up listeners we have on exterior elements.","         * @method _detachListeners","         */","        _detachListeners: function () {","            Y.detach(this._listenDragStart);","            Y.detach(this._listenDrag);","            Y.detach(this._listenDragEnd);","        },","","        /**","         * Reset deltas and get the dragged node if using","         * delegate drag.","         * @method _handleDragStart","         */","        _handleDragStart: function (e) {","            this._velocityXY = [0, 0];","            this._deltas = [];","            this._totalDragOffset = [0, 0];","            this._totalDeltaX = 0;","            this._totalDeltaY = 0;","            this._dragStartXY = [e.pageX, e.pageY];","","            // for delegate dragging _node will be undefined","            // at instantiation. Set it here","            if(this._delegate){","                this._node = this.get(\"host\").get(\"currentNode\");","            }","        },","","","        /**","         * Update the array of drag deltas.","         * @method _handleDrag","         */","        _handleDrag: function (e) {","            e.timeStamp = new Date().getTime();","","            // fill the array of deltas","            if (this._deltas.length < this._deltasToCount) {","","                this._deltas.push(e);","","            } else {","                // remove the first entry","                this._deltas.shift();","                // add a new last entry","                this._deltas.push(e);","","            }","        },","","        /**","         * Check state and fire the animation if everything is okay.","         * @method _handleDragEnd","         */","        _handleDragEnd: function (e) {","            var startVelocity = [];","","            this._totalDragOffset = [","            (e.pageX - this._dragStartXY[0]), (e.pageY - this._dragStartXY[1])];","","            // bail if the drag was too short to get a good trajectory and velocity","            if (this._deltas.length !== this._deltasToCount) {","                return;","            }","","            // bail if the user stopped moving the mouse more ","            // than 100MS prior to letting go","            if ((new Date().getTime() - this._deltas[this._deltasToCount - 1].timeStamp) > 100) {","                this.fire(\"end\", {","                    \"deltaX\": this._totalDragOffset[0],","                    \"deltaY\": this._totalDragOffset[1]","                });","                return;","            }","","            // everything looks okay, get the direction, speed and go","            this._figureDeltaDuration();","","            this._figureVelocity();","","            this._runFrame({","                \"velocityXY\": this._velocityXY,","                \"scope\": this,","                \"timeStamp\": new Date()","            });","        },","","        /**","         * Computes the duration of the final set of deltas so we","         * can accurately track mouse velocity when the user let go.","         * @method _figureDeltaDuration","         */","        _figureDeltaDuration: function () {","            this._duration = this._deltas[(this._deltasToCount - 1)].timeStamp - this._deltas[0].timeStamp;","        },","","        /**","         * Computes the velocity of the mouse when the user let go.","         * @method _figureVelocity","         */","        _figureVelocity: function () {","            var avgX = 0,","                avgY = 0,","                i;","","            for (i = 0; i < this._deltasToCount; i++) {","                avgX += this._deltas[i].info.delta[0];","                avgY += this._deltas[i].info.delta[1];","            }","","            avgX = this._clampVelocity(avgX / this._duration);","            avgY = this._clampVelocity(avgY / this._duration);","","            this._velocityXY = [avgX, avgY];","        },","","        /**","         * Modifies the current velocity by applying the drag","         * delta to it.","         * @method _applyDrag","         */","        _applyDrag: function (currVelocityXY, drag) {","            var toReturn = [","            Math.abs(currVelocityXY[0] * drag),","            Math.abs(currVelocityXY[1] * drag)];","","            if (currVelocityXY[0] < 0) {","                toReturn[0] *= -1;","            }","","            if (currVelocityXY[1] < 0) {","                toReturn[1] *= -1;","            }","","            return toReturn;","        },","","        /**","         * Clamps the velocity to be within the allowed range.","         * @method _clampVelocity","         */","        _clampVelocity: function (potentialVelocity) {","            var clamped;","","            clamped = Math.abs(potentialVelocity);","","            clamped = Math.max(Math.min(clamped, this._maxVelocity), this._minVelocity);","","            if (potentialVelocity < 0) {","                clamped = clamped * -1;","            }","","            return clamped;","        },","","        /**","         * Move the sliding element one frame's worth of animation and","         * prepare values for the next frame.","         * @method _runFrame","         */","        _runFrame: function (config) {","            var t = config.scope,","                elapsed,","                now = new Date(),","                dx,","                dy;","","            elapsed = now - config.timeStamp;","","            dx = config.velocityXY[0] * elapsed;","            dy = config.velocityXY[1] * elapsed;","","            config.timeStamp = now;","","            if (Math.abs(config.velocityXY[0]) >= 0) {","                t._totalDeltaX += Math.floor(dx);","                t._node.setStyle(\"left\", Math.floor((parseInt(t._node.getStyle(\"left\"), 10) + dx)) + \"px\");","            }","","            if (Math.abs(config.velocityXY[1]) >= 0) {","                t._totalDeltaY += Math.floor(dy);","                t._node.setStyle(\"top\", Math.floor((parseInt(t._node.getStyle(\"top\"), 10) + dy)) + \"px\");","            }","","            // Halt check","            if (Math.abs(config.velocityXY[0]) >= t._minVelocity || Math.abs(config.velocityXY[1]) >= t._minVelocity) {","                config.velocityXY = t._applyDrag(config.velocityXY, t._drag);","                window.requestAnimationFrame(function () {","                    t._runFrame(config);","                });","            } else {","","                t.fire(\"end\", {","                    \"deltaX\": t._totalDragOffset[0] + t._totalDeltaX,","                    \"deltaY\": t._totalDragOffset[1] + t._totalDeltaY","                });","            }","        }","    });","    ","    Y.DDMomentumPlugin = DDMomentumPlugin;","","","}, 'gallery-2013.05.15-21-12', {\"skinnable\": \"false\", \"requires\": [\"dd\", \"plugin\"]});","","}());"]};
}
var __cov_JXzcd99BwFxqhVWea1Hy3w = __coverage__['build/gallery-dd-plugin-momentum/gallery-dd-plugin-momentum.js'];
__cov_JXzcd99BwFxqhVWea1Hy3w.s['1']++;YUI.add('gallery-dd-plugin-momentum',function(Y,NAME){__cov_JXzcd99BwFxqhVWea1Hy3w.f['1']++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['2']++;function DDMomentumPlugin(config){__cov_JXzcd99BwFxqhVWea1Hy3w.f['2']++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['3']++;DDMomentumPlugin.superclass.constructor.apply(this,arguments);}__cov_JXzcd99BwFxqhVWea1Hy3w.s['4']++;DDMomentumPlugin.NAME='DDMomentumPlugin';__cov_JXzcd99BwFxqhVWea1Hy3w.s['5']++;DDMomentumPlugin.NS='as';__cov_JXzcd99BwFxqhVWea1Hy3w.s['6']++;DDMomentumPlugin.ATTRS={};__cov_JXzcd99BwFxqhVWea1Hy3w.s['7']++;Y.extend(DDMomentumPlugin,Y.Plugin.Base,{initializer:function(config){__cov_JXzcd99BwFxqhVWea1Hy3w.f['3']++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['8']++;if(!window.requestAnimationFrame){__cov_JXzcd99BwFxqhVWea1Hy3w.b['1'][0]++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['9']++;window.requestAnimationFrame=function(){__cov_JXzcd99BwFxqhVWea1Hy3w.f['4']++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['10']++;return(__cov_JXzcd99BwFxqhVWea1Hy3w.b['2'][0]++,window.webkitRequestAnimationFrame)||(__cov_JXzcd99BwFxqhVWea1Hy3w.b['2'][1]++,window.mozRequestAnimationFrame)||(__cov_JXzcd99BwFxqhVWea1Hy3w.b['2'][2]++,window.oRequestAnimationFrame)||(__cov_JXzcd99BwFxqhVWea1Hy3w.b['2'][3]++,window.msRequestAnimationFrame)||(__cov_JXzcd99BwFxqhVWea1Hy3w.b['2'][4]++,function(callback,element){__cov_JXzcd99BwFxqhVWea1Hy3w.f['5']++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['11']++;window.setTimeout(callback,1000/60);});}();}else{__cov_JXzcd99BwFxqhVWea1Hy3w.b['1'][1]++;}__cov_JXzcd99BwFxqhVWea1Hy3w.s['12']++;this.publish('end');__cov_JXzcd99BwFxqhVWea1Hy3w.s['13']++;this._maxVelocity=(__cov_JXzcd99BwFxqhVWea1Hy3w.b['3'][0]++,config.maxVelocity)||(__cov_JXzcd99BwFxqhVWea1Hy3w.b['3'][1]++,3);__cov_JXzcd99BwFxqhVWea1Hy3w.s['14']++;this._minVelocity=typeof config.minVelocity!=='undefined'?(__cov_JXzcd99BwFxqhVWea1Hy3w.b['4'][0]++,config.minVelocity):(__cov_JXzcd99BwFxqhVWea1Hy3w.b['4'][1]++,0.2);__cov_JXzcd99BwFxqhVWea1Hy3w.s['15']++;this._drag=typeof config.drag!=='undefined'?(__cov_JXzcd99BwFxqhVWea1Hy3w.b['5'][0]++,config.drag):(__cov_JXzcd99BwFxqhVWea1Hy3w.b['5'][1]++,0.92);__cov_JXzcd99BwFxqhVWea1Hy3w.s['16']++;this._deltas=[];__cov_JXzcd99BwFxqhVWea1Hy3w.s['17']++;this._deltasToCount=(__cov_JXzcd99BwFxqhVWea1Hy3w.b['6'][0]++,config.deltasToCount)||(__cov_JXzcd99BwFxqhVWea1Hy3w.b['6'][1]++,5);__cov_JXzcd99BwFxqhVWea1Hy3w.s['18']++;this._node=config.host.get('dragNode');__cov_JXzcd99BwFxqhVWea1Hy3w.s['19']++;this._totalDeltaX=0;__cov_JXzcd99BwFxqhVWea1Hy3w.s['20']++;this._totalDeltaY=0;__cov_JXzcd99BwFxqhVWea1Hy3w.s['21']++;this._dragStartXY=[];__cov_JXzcd99BwFxqhVWea1Hy3w.s['22']++;this._totalDragOffset=[0,0];__cov_JXzcd99BwFxqhVWea1Hy3w.s['23']++;this._duration=0;__cov_JXzcd99BwFxqhVWea1Hy3w.s['24']++;this._velocity=0;__cov_JXzcd99BwFxqhVWea1Hy3w.s['25']++;this._delegate=config.host.name==='delegate';__cov_JXzcd99BwFxqhVWea1Hy3w.s['26']++;this._listenDrag=null;__cov_JXzcd99BwFxqhVWea1Hy3w.s['27']++;this._listenDragEnd=null;__cov_JXzcd99BwFxqhVWea1Hy3w.s['28']++;this._listenDragStart=null;__cov_JXzcd99BwFxqhVWea1Hy3w.s['29']++;this._attachListeners();},destructor:function(){__cov_JXzcd99BwFxqhVWea1Hy3w.f['6']++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['30']++;this._detachListeners();},_attachListeners:function(){__cov_JXzcd99BwFxqhVWea1Hy3w.f['7']++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['31']++;this._listenDragStart=this.afterHostEvent('drag:start',this._handleDragStart,this);__cov_JXzcd99BwFxqhVWea1Hy3w.s['32']++;this._listenDrag=this.afterHostEvent('drag:drag',this._handleDrag,this);__cov_JXzcd99BwFxqhVWea1Hy3w.s['33']++;this._listenDragEnd=this.afterHostEvent('drag:end',this._handleDragEnd,this);},_detachListeners:function(){__cov_JXzcd99BwFxqhVWea1Hy3w.f['8']++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['34']++;Y.detach(this._listenDragStart);__cov_JXzcd99BwFxqhVWea1Hy3w.s['35']++;Y.detach(this._listenDrag);__cov_JXzcd99BwFxqhVWea1Hy3w.s['36']++;Y.detach(this._listenDragEnd);},_handleDragStart:function(e){__cov_JXzcd99BwFxqhVWea1Hy3w.f['9']++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['37']++;this._velocityXY=[0,0];__cov_JXzcd99BwFxqhVWea1Hy3w.s['38']++;this._deltas=[];__cov_JXzcd99BwFxqhVWea1Hy3w.s['39']++;this._totalDragOffset=[0,0];__cov_JXzcd99BwFxqhVWea1Hy3w.s['40']++;this._totalDeltaX=0;__cov_JXzcd99BwFxqhVWea1Hy3w.s['41']++;this._totalDeltaY=0;__cov_JXzcd99BwFxqhVWea1Hy3w.s['42']++;this._dragStartXY=[e.pageX,e.pageY];__cov_JXzcd99BwFxqhVWea1Hy3w.s['43']++;if(this._delegate){__cov_JXzcd99BwFxqhVWea1Hy3w.b['7'][0]++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['44']++;this._node=this.get('host').get('currentNode');}else{__cov_JXzcd99BwFxqhVWea1Hy3w.b['7'][1]++;}},_handleDrag:function(e){__cov_JXzcd99BwFxqhVWea1Hy3w.f['10']++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['45']++;e.timeStamp=new Date().getTime();__cov_JXzcd99BwFxqhVWea1Hy3w.s['46']++;if(this._deltas.length<this._deltasToCount){__cov_JXzcd99BwFxqhVWea1Hy3w.b['8'][0]++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['47']++;this._deltas.push(e);}else{__cov_JXzcd99BwFxqhVWea1Hy3w.b['8'][1]++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['48']++;this._deltas.shift();__cov_JXzcd99BwFxqhVWea1Hy3w.s['49']++;this._deltas.push(e);}},_handleDragEnd:function(e){__cov_JXzcd99BwFxqhVWea1Hy3w.f['11']++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['50']++;var startVelocity=[];__cov_JXzcd99BwFxqhVWea1Hy3w.s['51']++;this._totalDragOffset=[e.pageX-this._dragStartXY[0],e.pageY-this._dragStartXY[1]];__cov_JXzcd99BwFxqhVWea1Hy3w.s['52']++;if(this._deltas.length!==this._deltasToCount){__cov_JXzcd99BwFxqhVWea1Hy3w.b['9'][0]++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['53']++;return;}else{__cov_JXzcd99BwFxqhVWea1Hy3w.b['9'][1]++;}__cov_JXzcd99BwFxqhVWea1Hy3w.s['54']++;if(new Date().getTime()-this._deltas[this._deltasToCount-1].timeStamp>100){__cov_JXzcd99BwFxqhVWea1Hy3w.b['10'][0]++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['55']++;this.fire('end',{'deltaX':this._totalDragOffset[0],'deltaY':this._totalDragOffset[1]});__cov_JXzcd99BwFxqhVWea1Hy3w.s['56']++;return;}else{__cov_JXzcd99BwFxqhVWea1Hy3w.b['10'][1]++;}__cov_JXzcd99BwFxqhVWea1Hy3w.s['57']++;this._figureDeltaDuration();__cov_JXzcd99BwFxqhVWea1Hy3w.s['58']++;this._figureVelocity();__cov_JXzcd99BwFxqhVWea1Hy3w.s['59']++;this._runFrame({'velocityXY':this._velocityXY,'scope':this,'timeStamp':new Date()});},_figureDeltaDuration:function(){__cov_JXzcd99BwFxqhVWea1Hy3w.f['12']++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['60']++;this._duration=this._deltas[this._deltasToCount-1].timeStamp-this._deltas[0].timeStamp;},_figureVelocity:function(){__cov_JXzcd99BwFxqhVWea1Hy3w.f['13']++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['61']++;var avgX=0,avgY=0,i;__cov_JXzcd99BwFxqhVWea1Hy3w.s['62']++;for(i=0;i<this._deltasToCount;i++){__cov_JXzcd99BwFxqhVWea1Hy3w.s['63']++;avgX+=this._deltas[i].info.delta[0];__cov_JXzcd99BwFxqhVWea1Hy3w.s['64']++;avgY+=this._deltas[i].info.delta[1];}__cov_JXzcd99BwFxqhVWea1Hy3w.s['65']++;avgX=this._clampVelocity(avgX/this._duration);__cov_JXzcd99BwFxqhVWea1Hy3w.s['66']++;avgY=this._clampVelocity(avgY/this._duration);__cov_JXzcd99BwFxqhVWea1Hy3w.s['67']++;this._velocityXY=[avgX,avgY];},_applyDrag:function(currVelocityXY,drag){__cov_JXzcd99BwFxqhVWea1Hy3w.f['14']++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['68']++;var toReturn=[Math.abs(currVelocityXY[0]*drag),Math.abs(currVelocityXY[1]*drag)];__cov_JXzcd99BwFxqhVWea1Hy3w.s['69']++;if(currVelocityXY[0]<0){__cov_JXzcd99BwFxqhVWea1Hy3w.b['11'][0]++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['70']++;toReturn[0]*=-1;}else{__cov_JXzcd99BwFxqhVWea1Hy3w.b['11'][1]++;}__cov_JXzcd99BwFxqhVWea1Hy3w.s['71']++;if(currVelocityXY[1]<0){__cov_JXzcd99BwFxqhVWea1Hy3w.b['12'][0]++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['72']++;toReturn[1]*=-1;}else{__cov_JXzcd99BwFxqhVWea1Hy3w.b['12'][1]++;}__cov_JXzcd99BwFxqhVWea1Hy3w.s['73']++;return toReturn;},_clampVelocity:function(potentialVelocity){__cov_JXzcd99BwFxqhVWea1Hy3w.f['15']++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['74']++;var clamped;__cov_JXzcd99BwFxqhVWea1Hy3w.s['75']++;clamped=Math.abs(potentialVelocity);__cov_JXzcd99BwFxqhVWea1Hy3w.s['76']++;clamped=Math.max(Math.min(clamped,this._maxVelocity),this._minVelocity);__cov_JXzcd99BwFxqhVWea1Hy3w.s['77']++;if(potentialVelocity<0){__cov_JXzcd99BwFxqhVWea1Hy3w.b['13'][0]++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['78']++;clamped=clamped*-1;}else{__cov_JXzcd99BwFxqhVWea1Hy3w.b['13'][1]++;}__cov_JXzcd99BwFxqhVWea1Hy3w.s['79']++;return clamped;},_runFrame:function(config){__cov_JXzcd99BwFxqhVWea1Hy3w.f['16']++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['80']++;var t=config.scope,elapsed,now=new Date(),dx,dy;__cov_JXzcd99BwFxqhVWea1Hy3w.s['81']++;elapsed=now-config.timeStamp;__cov_JXzcd99BwFxqhVWea1Hy3w.s['82']++;dx=config.velocityXY[0]*elapsed;__cov_JXzcd99BwFxqhVWea1Hy3w.s['83']++;dy=config.velocityXY[1]*elapsed;__cov_JXzcd99BwFxqhVWea1Hy3w.s['84']++;config.timeStamp=now;__cov_JXzcd99BwFxqhVWea1Hy3w.s['85']++;if(Math.abs(config.velocityXY[0])>=0){__cov_JXzcd99BwFxqhVWea1Hy3w.b['14'][0]++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['86']++;t._totalDeltaX+=Math.floor(dx);__cov_JXzcd99BwFxqhVWea1Hy3w.s['87']++;t._node.setStyle('left',Math.floor(parseInt(t._node.getStyle('left'),10)+dx)+'px');}else{__cov_JXzcd99BwFxqhVWea1Hy3w.b['14'][1]++;}__cov_JXzcd99BwFxqhVWea1Hy3w.s['88']++;if(Math.abs(config.velocityXY[1])>=0){__cov_JXzcd99BwFxqhVWea1Hy3w.b['15'][0]++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['89']++;t._totalDeltaY+=Math.floor(dy);__cov_JXzcd99BwFxqhVWea1Hy3w.s['90']++;t._node.setStyle('top',Math.floor(parseInt(t._node.getStyle('top'),10)+dy)+'px');}else{__cov_JXzcd99BwFxqhVWea1Hy3w.b['15'][1]++;}__cov_JXzcd99BwFxqhVWea1Hy3w.s['91']++;if((__cov_JXzcd99BwFxqhVWea1Hy3w.b['17'][0]++,Math.abs(config.velocityXY[0])>=t._minVelocity)||(__cov_JXzcd99BwFxqhVWea1Hy3w.b['17'][1]++,Math.abs(config.velocityXY[1])>=t._minVelocity)){__cov_JXzcd99BwFxqhVWea1Hy3w.b['16'][0]++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['92']++;config.velocityXY=t._applyDrag(config.velocityXY,t._drag);__cov_JXzcd99BwFxqhVWea1Hy3w.s['93']++;window.requestAnimationFrame(function(){__cov_JXzcd99BwFxqhVWea1Hy3w.f['17']++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['94']++;t._runFrame(config);});}else{__cov_JXzcd99BwFxqhVWea1Hy3w.b['16'][1]++;__cov_JXzcd99BwFxqhVWea1Hy3w.s['95']++;t.fire('end',{'deltaX':t._totalDragOffset[0]+t._totalDeltaX,'deltaY':t._totalDragOffset[1]+t._totalDeltaY});}}});__cov_JXzcd99BwFxqhVWea1Hy3w.s['96']++;Y.DDMomentumPlugin=DDMomentumPlugin;},'gallery-2013.05.15-21-12',{'skinnable':'false','requires':['dd','plugin']});
