YUI.add("gallery-handlebars-loader",function(b){var a=function(c){a.superclass.constructor.apply(this,arguments);};a.NAME="HandlebarsLoader";b.extend(a,b.Base,{templates:{},raw:function(d){var c=b.one("#"+d);if(c){return c.get("innerHTML");}return null;},preCompile:function(d){for(var c=0;c<d.length;c++){this.template(d[c]);}},template:function(e){var c=this,d;if(!b.Object.hasKey(this.templates,e)){d=this.raw(e);if(d===null){if(this.get("autoLoad")){this.load(this.get("comboLoader")+this.get("idConvert")(e),{process:true,sync:true});}}else{this.templates[e]=b.Handlebars.compile(d);}}return this.templates[e];},load:function(d,c){b.io(d,{sync:c.sync||false,on:{success:function(g,e){var f=b.one("head");f.append(e.responseText);if(c.process){f.all('script[type="text/x-handlebars-template"]').each(function(i){var h=this.template(i.get("id"));if(c.callback){c.callback(h);}},this);}},failure:function(){throw"Handlebars: failed to retrieve url: "+d;}},context:this});},clear:function(c){if(c){delete this.templates[c];}else{this.templates={};}},destructor:function(){this.templates=null;}},{ATTRS:{autoLoad:{value:false},comboLoader:{},idConvert:{value:function(c){return c;}}}});b.namespace("MSA");b.MSA.HandlebarsLoader=a;},"gallery-2012.08.15-20-00",{requires:["node-base","handlebars-base","handlebars-compiler","base-base","io-base"],skinnable:false});