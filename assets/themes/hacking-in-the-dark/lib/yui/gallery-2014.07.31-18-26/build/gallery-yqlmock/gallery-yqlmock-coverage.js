if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/gallery-yqlmock/gallery-yqlmock.js']) {
   __coverage__['build/gallery-yqlmock/gallery-yqlmock.js'] = {"path":"build/gallery-yqlmock/gallery-yqlmock.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0},"b":{"1":[0,0,0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":27},"end":{"line":1,"column":46}}},"2":{"name":"YQLMock","line":10,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":23}}},"3":{"name":"getErrorObj","line":25,"loc":{"start":{"line":25,"column":8},"end":{"line":25,"column":44}}},"4":{"name":"deepSortObjKeys","line":61,"loc":{"start":{"line":61,"column":8},"end":{"line":61,"column":38}}},"5":{"name":"generateSignature","line":91,"loc":{"start":{"line":91,"column":8},"end":{"line":91,"column":40}}},"6":{"name":"mockingYQL","line":111,"loc":{"start":{"line":111,"column":8},"end":{"line":111,"column":57}}},"7":{"name":"(anonymous_7)","line":141,"loc":{"start":{"line":141,"column":22},"end":{"line":141,"column":37}}},"8":{"name":"(anonymous_8)","line":143,"loc":{"start":{"line":143,"column":34},"end":{"line":143,"column":52}}},"9":{"name":"(anonymous_9)","line":177,"loc":{"start":{"line":177,"column":22},"end":{"line":177,"column":34}}},"10":{"name":"(anonymous_10)","line":183,"loc":{"start":{"line":183,"column":43},"end":{"line":183,"column":58}}},"11":{"name":"(anonymous_11)","line":194,"loc":{"start":{"line":194,"column":26},"end":{"line":194,"column":38}}},"12":{"name":"(anonymous_12)","line":200,"loc":{"start":{"line":200,"column":23},"end":{"line":200,"column":35}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":215,"column":59}},"2":{"start":{"line":9,"column":4},"end":{"line":9,"column":17}},"3":{"start":{"line":10,"column":4},"end":{"line":210,"column":5}},"4":{"start":{"line":11,"column":8},"end":{"line":17,"column":41}},"5":{"start":{"line":25,"column":8},"end":{"line":52,"column":9}},"6":{"start":{"line":26,"column":12},"end":{"line":28,"column":14}},"7":{"start":{"line":30,"column":12},"end":{"line":49,"column":13}},"8":{"start":{"line":32,"column":16},"end":{"line":32,"column":57}},"9":{"start":{"line":33,"column":16},"end":{"line":33,"column":145}},"10":{"start":{"line":34,"column":16},"end":{"line":34,"column":123}},"11":{"start":{"line":35,"column":16},"end":{"line":35,"column":22}},"12":{"start":{"line":37,"column":16},"end":{"line":37,"column":56}},"13":{"start":{"line":38,"column":16},"end":{"line":38,"column":88}},"14":{"start":{"line":39,"column":16},"end":{"line":39,"column":22}},"15":{"start":{"line":41,"column":16},"end":{"line":41,"column":46}},"16":{"start":{"line":42,"column":16},"end":{"line":42,"column":59}},"17":{"start":{"line":43,"column":16},"end":{"line":43,"column":22}},"18":{"start":{"line":45,"column":16},"end":{"line":45,"column":46}},"19":{"start":{"line":46,"column":16},"end":{"line":46,"column":123}},"20":{"start":{"line":47,"column":16},"end":{"line":47,"column":116}},"21":{"start":{"line":48,"column":16},"end":{"line":48,"column":22}},"22":{"start":{"line":51,"column":12},"end":{"line":51,"column":23}},"23":{"start":{"line":61,"column":8},"end":{"line":84,"column":9}},"24":{"start":{"line":62,"column":12},"end":{"line":65,"column":18}},"25":{"start":{"line":68,"column":12},"end":{"line":76,"column":13}},"26":{"start":{"line":69,"column":16},"end":{"line":75,"column":17}},"27":{"start":{"line":70,"column":20},"end":{"line":73,"column":21}},"28":{"start":{"line":72,"column":24},"end":{"line":72,"column":61}},"29":{"start":{"line":74,"column":20},"end":{"line":74,"column":32}},"30":{"start":{"line":78,"column":12},"end":{"line":78,"column":21}},"31":{"start":{"line":80,"column":12},"end":{"line":82,"column":13}},"32":{"start":{"line":81,"column":16},"end":{"line":81,"column":41}},"33":{"start":{"line":83,"column":12},"end":{"line":83,"column":26}},"34":{"start":{"line":91,"column":8},"end":{"line":102,"column":9}},"35":{"start":{"line":92,"column":12},"end":{"line":92,"column":26}},"36":{"start":{"line":94,"column":12},"end":{"line":97,"column":13}},"37":{"start":{"line":96,"column":16},"end":{"line":96,"column":37}},"38":{"start":{"line":99,"column":12},"end":{"line":99,"column":108}},"39":{"start":{"line":100,"column":12},"end":{"line":100,"column":78}},"40":{"start":{"line":101,"column":12},"end":{"line":101,"column":29}},"41":{"start":{"line":111,"column":8},"end":{"line":135,"column":9}},"42":{"start":{"line":112,"column":12},"end":{"line":118,"column":51}},"43":{"start":{"line":121,"column":12},"end":{"line":129,"column":13}},"44":{"start":{"line":123,"column":16},"end":{"line":128,"column":19}},"45":{"start":{"line":131,"column":12},"end":{"line":131,"column":57}},"46":{"start":{"line":132,"column":12},"end":{"line":134,"column":13}},"47":{"start":{"line":133,"column":16},"end":{"line":133,"column":64}},"48":{"start":{"line":141,"column":8},"end":{"line":171,"column":10}},"49":{"start":{"line":142,"column":12},"end":{"line":162,"column":18}},"50":{"start":{"line":144,"column":20},"end":{"line":144,"column":34}},"51":{"start":{"line":145,"column":20},"end":{"line":147,"column":21}},"52":{"start":{"line":146,"column":24},"end":{"line":146,"column":45}},"53":{"start":{"line":149,"column":20},"end":{"line":149,"column":58}},"54":{"start":{"line":150,"column":20},"end":{"line":161,"column":22}},"55":{"start":{"line":164,"column":12},"end":{"line":170,"column":13}},"56":{"start":{"line":165,"column":16},"end":{"line":167,"column":17}},"57":{"start":{"line":166,"column":20},"end":{"line":166,"column":44}},"58":{"start":{"line":169,"column":16},"end":{"line":169,"column":37}},"59":{"start":{"line":177,"column":8},"end":{"line":191,"column":10}},"60":{"start":{"line":179,"column":12},"end":{"line":179,"column":27}},"61":{"start":{"line":180,"column":12},"end":{"line":180,"column":41}},"62":{"start":{"line":183,"column":12},"end":{"line":187,"column":15}},"63":{"start":{"line":184,"column":16},"end":{"line":186,"column":17}},"64":{"start":{"line":185,"column":20},"end":{"line":185,"column":46}},"65":{"start":{"line":190,"column":12},"end":{"line":190,"column":21}},"66":{"start":{"line":194,"column":8},"end":{"line":197,"column":10}},"67":{"start":{"line":195,"column":12},"end":{"line":195,"column":27}},"68":{"start":{"line":196,"column":12},"end":{"line":196,"column":41}},"69":{"start":{"line":200,"column":8},"end":{"line":203,"column":10}},"70":{"start":{"line":201,"column":12},"end":{"line":201,"column":31}},"71":{"start":{"line":202,"column":12},"end":{"line":202,"column":38}},"72":{"start":{"line":206,"column":8},"end":{"line":206,"column":27}},"73":{"start":{"line":207,"column":8},"end":{"line":207,"column":34}},"74":{"start":{"line":209,"column":8},"end":{"line":209,"column":20}},"75":{"start":{"line":212,"column":4},"end":{"line":212,"column":24}}},"branchMap":{"1":{"line":30,"type":"switch","locations":[{"start":{"line":31,"column":12},"end":{"line":35,"column":22}},{"start":{"line":36,"column":12},"end":{"line":39,"column":22}},{"start":{"line":40,"column":12},"end":{"line":43,"column":22}},{"start":{"line":44,"column":12},"end":{"line":48,"column":22}}]},"2":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":16},"end":{"line":69,"column":16}},{"start":{"line":69,"column":16},"end":{"line":69,"column":16}}]},"3":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":20},"end":{"line":70,"column":20}},{"start":{"line":70,"column":20},"end":{"line":70,"column":20}}]},"4":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":12},"end":{"line":94,"column":12}},{"start":{"line":94,"column":12},"end":{"line":94,"column":12}}]},"5":{"line":115,"type":"cond-expr","locations":[{"start":{"line":115,"column":43},"end":{"line":115,"column":49}},{"start":{"line":115,"column":52},"end":{"line":115,"column":60}}]},"6":{"line":116,"type":"cond-expr","locations":[{"start":{"line":116,"column":41},"end":{"line":116,"column":45}},{"start":{"line":116,"column":48},"end":{"line":116,"column":54}}]},"7":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":12},"end":{"line":121,"column":12}},{"start":{"line":121,"column":12},"end":{"line":121,"column":12}}]},"8":{"line":125,"type":"cond-expr","locations":[{"start":{"line":125,"column":45},"end":{"line":125,"column":61}},{"start":{"line":125,"column":64},"end":{"line":125,"column":75}}]},"9":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":12},"end":{"line":132,"column":12}},{"start":{"line":132,"column":12},"end":{"line":132,"column":12}}]},"10":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":20},"end":{"line":145,"column":20}},{"start":{"line":145,"column":20},"end":{"line":145,"column":20}}]},"11":{"line":145,"type":"binary-expr","locations":[{"start":{"line":145,"column":24},"end":{"line":145,"column":31}},{"start":{"line":145,"column":35},"end":{"line":145,"column":46}}]},"12":{"line":154,"type":"binary-expr","locations":[{"start":{"line":154,"column":41},"end":{"line":154,"column":71}},{"start":{"line":154,"column":75},"end":{"line":154,"column":76}}]},"13":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":43},"end":{"line":158,"column":59}},{"start":{"line":158,"column":63},"end":{"line":158,"column":65}}]},"14":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":12},"end":{"line":164,"column":12}},{"start":{"line":164,"column":12},"end":{"line":164,"column":12}}]},"15":{"line":184,"type":"if","locations":[{"start":{"line":184,"column":16},"end":{"line":184,"column":16}},{"start":{"line":184,"column":16},"end":{"line":184,"column":16}}]}},"code":["(function () { YUI.add('gallery-yqlmock', function (Y, NAME) {","","/*"," * Copyright (c) 2013 Yahoo! Inc. All rights reserved."," */","","/*global YUITest*/","","    'use strict';","    function YQLMock() {","        var A = YUITest.Assert,","            mock = {},","            // Object that holds all expectations","            expectationPool = {},","            // Keep a reference to the old YUI.YQL and YUI.YQLRequest function","            oldYQL = Y.YQL,","            oldYQLRequest = Y.YQLRequest;","","        /**","        * Returns an error object.","        * @param Integer error number.","        * @param {Object} msgObj to complete error message if needed.","        * return error Object.","        */","        function getErrorObj(errno, msgObj) {","            var obj = {","                errno: errno","            };","","            switch (errno) {","            case 0:","                obj.name = \"Unexpected numbers of calls\";","                obj.message = \"YQL Call numbers unexpected.\\nExpected calls: \" + msgObj.expectedCalls + \"\\nActual calls: \" + msgObj.actuallCalls;","                obj.message +=  \"\\nDetails:\\nsql: \" + msgObj.sql + \"\\nparams: \" + msgObj.params + \"\\nopts: \" + msgObj.opts;","                break;","            case 1:","                obj.name = \"Invalid expectation object\";","                obj.message = 'Expectation Object needs to have at least a \"sql\" field';","                break;","            case 2:","                obj.name = \"Query Type Error\";","                obj.message = \"Query needs to be a String\";","                break;","            case 3:","                obj.name = \"Unexpected Query\";","                obj.message = \"Unexpected YQL call:\\nsql: \" + msgObj.sql + \"\\ncallback: \" + msgObj.callback + \"\\nparams: \";","                obj.message +=  msgObj.params + \"\\nopts: \" + msgObj.opts + \"\\nPlease check your expectation again.\";","                break;","            }","","            return obj;","        }","","","        /**","        * Returns object with keys sorted.","        * Pushes all the keys into an array and sort the array.","        * @param {Object} obj To be sorted.","        * return Object with keys sorted.","        */","        function deepSortObjKeys(obj) {","            var sorted = {},","                a = [],","                key,","                i;","","            // Iterate through each key in the object","            for (key in obj) {","                if (obj.hasOwnProperty(key)) {","                    if (typeof obj[key] === \"object\") {","                        // Calling this function with nested object recursively","                        obj[key] = deepSortObjKeys(obj[key]);","                    }","                    a.push(key);","                }","            }","            // Alphabetically sort keys","            a.sort();","            // Generate new object with keys sorted","            for (i = 0; i < a.length; i += 1) {","                sorted[a[i]] = obj[a[i]];","            }","            return sorted;","        }","","        /**","         * Generate hashkey.","         * @param {Object} obj To generate hashkey.","         * return hashkey","         */","        function generateSignature(obj) {","            var signature;","","            if (typeof obj.sql !== \"string\") {","                // Sql needs to be a string","                throw getErrorObj(2);","            }","            // Callback not considered in signature!!","            signature = \"sql=\" + String(obj.sql) + \"&params=\" + JSON.stringify(deepSortObjKeys(obj.params));","            signature += \"&opts=\" + JSON.stringify(deepSortObjKeys(obj.opts));","            return signature;","        }","","        /**","         * Mocking YUI.YQL.","         * Find matching configurations in expectations, and record call counts.","         * Raise error if configuration is not found in expectations.","         * @param {Objects} objs Of YUI.YQL arguments.","         * pass result to callback if callback presents","         */","        function mockingYQL(sql, callback, params, opts) {","            var withCallback = (typeof callback === \"function\"),","                obj = {","                    sql: sql,","                    params: withCallback ? params : callback,","                    opts: withCallback ? opts : params","                },","                signature = generateSignature(obj);","","            // Finds out whether the configuration is in expectation","            if (!expectationPool[signature]) {","                // YQL call not registered","                throw getErrorObj(3, {","                    sql: String(obj.sql),","                    callback: withCallback ? String(callback) : 'undefined',","                    params: JSON.stringify(obj.params),","                    opts: JSON.stringify(obj.opts)","                });","            }","            // Increment call count","            expectationPool[signature].actuallCalls += 1;","            if (withCallback) {","                callback(expectationPool[signature].returnItem);","            }","        }","","        /**","         * Set up expectation object(s) into expectation pool.","         * @param {Object}|[Array of {Objects}] obj To be expected.","         */","        mock.expect = function (obj) {","            var i,","                saveExpectation = function (object) {","                    var signature;","                    if (!object || !object.sql) {","                        throw getErrorObj(1);","                    }","                    // Store the expectation","                    signature = generateSignature(object);","                    expectationPool[signature] = {","                        \"sql\": String(object.sql),","                        \"params\": JSON.stringify(object.params),","                        \"opts\": JSON.stringify(object.opts),","                        \"expectedCalls\": parseInt(object.callCount, 10) || 1,","                        \"actuallCalls\": 0,","                        \"returnItem\": {","                            \"query\": {","                                \"results\": object.resultSet || {}","                            }","                        }","                    };","                };","","            if (obj instanceof Array) {","                for (i = 0; i < obj.length; i += 1) {","                    saveExpectation(obj[i]);","                }","            } else {","                saveExpectation(obj);","            }","        };","","        /**","         * Verify YQL calls to see whether all expectations are met.","         * Fail on unexpected number of calls.","         */","        mock.verify = function () {","            // Restore YQL function","            Y.YQL = oldYQL;","            Y.YQLRequest = oldYQLRequest;","","            // Compare each expectation object to see whether actual call counts achieved","            Y.Object.each(expectationPool, function (exp) {","                if (exp.expectedCalls !== exp.actuallCalls) {","                    throw getErrorObj(0, exp);","                }","            });","","            // All YQL calls are expected. Pass the test.","            A.pass();","        };","","        // Restore YQL","        mock.restoreYQL = function () {","            Y.YQL = oldYQL;","            Y.YQLRequest = oldYQLRequest;","        };","","        // Mock YQL","        mock.mockYQL = function () {","            Y.YQL = mockingYQL;","            Y.YQLRequest = mockingYQL;","        };","","        // Overwrite YUI.YQL functions","        Y.YQL = mockingYQL;","        Y.YQLRequest = mockingYQL;","","        return mock;","    }","","    Y.YQLMock = YQLMock;","","","}, 'gallery-2013.04.10-22-48', {\"requires\": [\"yui-base\"]});","","}());"]};
}
var __cov_srBOcC5q6PzVMKjX5veubQ = __coverage__['build/gallery-yqlmock/gallery-yqlmock.js'];
__cov_srBOcC5q6PzVMKjX5veubQ.s['1']++;YUI.add('gallery-yqlmock',function(Y,NAME){__cov_srBOcC5q6PzVMKjX5veubQ.f['1']++;__cov_srBOcC5q6PzVMKjX5veubQ.s['2']++;'use strict';__cov_srBOcC5q6PzVMKjX5veubQ.s['3']++;function YQLMock(){__cov_srBOcC5q6PzVMKjX5veubQ.f['2']++;__cov_srBOcC5q6PzVMKjX5veubQ.s['4']++;var A=YUITest.Assert,mock={},expectationPool={},oldYQL=Y.YQL,oldYQLRequest=Y.YQLRequest;__cov_srBOcC5q6PzVMKjX5veubQ.s['5']++;function getErrorObj(errno,msgObj){__cov_srBOcC5q6PzVMKjX5veubQ.f['3']++;__cov_srBOcC5q6PzVMKjX5veubQ.s['6']++;var obj={errno:errno};__cov_srBOcC5q6PzVMKjX5veubQ.s['7']++;switch(errno){case 0:__cov_srBOcC5q6PzVMKjX5veubQ.b['1'][0]++;__cov_srBOcC5q6PzVMKjX5veubQ.s['8']++;obj.name='Unexpected numbers of calls';__cov_srBOcC5q6PzVMKjX5veubQ.s['9']++;obj.message='YQL Call numbers unexpected.\nExpected calls: '+msgObj.expectedCalls+'\nActual calls: '+msgObj.actuallCalls;__cov_srBOcC5q6PzVMKjX5veubQ.s['10']++;obj.message+='\nDetails:\nsql: '+msgObj.sql+'\nparams: '+msgObj.params+'\nopts: '+msgObj.opts;__cov_srBOcC5q6PzVMKjX5veubQ.s['11']++;break;case 1:__cov_srBOcC5q6PzVMKjX5veubQ.b['1'][1]++;__cov_srBOcC5q6PzVMKjX5veubQ.s['12']++;obj.name='Invalid expectation object';__cov_srBOcC5q6PzVMKjX5veubQ.s['13']++;obj.message='Expectation Object needs to have at least a "sql" field';__cov_srBOcC5q6PzVMKjX5veubQ.s['14']++;break;case 2:__cov_srBOcC5q6PzVMKjX5veubQ.b['1'][2]++;__cov_srBOcC5q6PzVMKjX5veubQ.s['15']++;obj.name='Query Type Error';__cov_srBOcC5q6PzVMKjX5veubQ.s['16']++;obj.message='Query needs to be a String';__cov_srBOcC5q6PzVMKjX5veubQ.s['17']++;break;case 3:__cov_srBOcC5q6PzVMKjX5veubQ.b['1'][3]++;__cov_srBOcC5q6PzVMKjX5veubQ.s['18']++;obj.name='Unexpected Query';__cov_srBOcC5q6PzVMKjX5veubQ.s['19']++;obj.message='Unexpected YQL call:\nsql: '+msgObj.sql+'\ncallback: '+msgObj.callback+'\nparams: ';__cov_srBOcC5q6PzVMKjX5veubQ.s['20']++;obj.message+=msgObj.params+'\nopts: '+msgObj.opts+'\nPlease check your expectation again.';__cov_srBOcC5q6PzVMKjX5veubQ.s['21']++;break;}__cov_srBOcC5q6PzVMKjX5veubQ.s['22']++;return obj;}__cov_srBOcC5q6PzVMKjX5veubQ.s['23']++;function deepSortObjKeys(obj){__cov_srBOcC5q6PzVMKjX5veubQ.f['4']++;__cov_srBOcC5q6PzVMKjX5veubQ.s['24']++;var sorted={},a=[],key,i;__cov_srBOcC5q6PzVMKjX5veubQ.s['25']++;for(key in obj){__cov_srBOcC5q6PzVMKjX5veubQ.s['26']++;if(obj.hasOwnProperty(key)){__cov_srBOcC5q6PzVMKjX5veubQ.b['2'][0]++;__cov_srBOcC5q6PzVMKjX5veubQ.s['27']++;if(typeof obj[key]==='object'){__cov_srBOcC5q6PzVMKjX5veubQ.b['3'][0]++;__cov_srBOcC5q6PzVMKjX5veubQ.s['28']++;obj[key]=deepSortObjKeys(obj[key]);}else{__cov_srBOcC5q6PzVMKjX5veubQ.b['3'][1]++;}__cov_srBOcC5q6PzVMKjX5veubQ.s['29']++;a.push(key);}else{__cov_srBOcC5q6PzVMKjX5veubQ.b['2'][1]++;}}__cov_srBOcC5q6PzVMKjX5veubQ.s['30']++;a.sort();__cov_srBOcC5q6PzVMKjX5veubQ.s['31']++;for(i=0;i<a.length;i+=1){__cov_srBOcC5q6PzVMKjX5veubQ.s['32']++;sorted[a[i]]=obj[a[i]];}__cov_srBOcC5q6PzVMKjX5veubQ.s['33']++;return sorted;}__cov_srBOcC5q6PzVMKjX5veubQ.s['34']++;function generateSignature(obj){__cov_srBOcC5q6PzVMKjX5veubQ.f['5']++;__cov_srBOcC5q6PzVMKjX5veubQ.s['35']++;var signature;__cov_srBOcC5q6PzVMKjX5veubQ.s['36']++;if(typeof obj.sql!=='string'){__cov_srBOcC5q6PzVMKjX5veubQ.b['4'][0]++;__cov_srBOcC5q6PzVMKjX5veubQ.s['37']++;throw getErrorObj(2);}else{__cov_srBOcC5q6PzVMKjX5veubQ.b['4'][1]++;}__cov_srBOcC5q6PzVMKjX5veubQ.s['38']++;signature='sql='+String(obj.sql)+'&params='+JSON.stringify(deepSortObjKeys(obj.params));__cov_srBOcC5q6PzVMKjX5veubQ.s['39']++;signature+='&opts='+JSON.stringify(deepSortObjKeys(obj.opts));__cov_srBOcC5q6PzVMKjX5veubQ.s['40']++;return signature;}__cov_srBOcC5q6PzVMKjX5veubQ.s['41']++;function mockingYQL(sql,callback,params,opts){__cov_srBOcC5q6PzVMKjX5veubQ.f['6']++;__cov_srBOcC5q6PzVMKjX5veubQ.s['42']++;var withCallback=typeof callback==='function',obj={sql:sql,params:withCallback?(__cov_srBOcC5q6PzVMKjX5veubQ.b['5'][0]++,params):(__cov_srBOcC5q6PzVMKjX5veubQ.b['5'][1]++,callback),opts:withCallback?(__cov_srBOcC5q6PzVMKjX5veubQ.b['6'][0]++,opts):(__cov_srBOcC5q6PzVMKjX5veubQ.b['6'][1]++,params)},signature=generateSignature(obj);__cov_srBOcC5q6PzVMKjX5veubQ.s['43']++;if(!expectationPool[signature]){__cov_srBOcC5q6PzVMKjX5veubQ.b['7'][0]++;__cov_srBOcC5q6PzVMKjX5veubQ.s['44']++;throw getErrorObj(3,{sql:String(obj.sql),callback:withCallback?(__cov_srBOcC5q6PzVMKjX5veubQ.b['8'][0]++,String(callback)):(__cov_srBOcC5q6PzVMKjX5veubQ.b['8'][1]++,'undefined'),params:JSON.stringify(obj.params),opts:JSON.stringify(obj.opts)});}else{__cov_srBOcC5q6PzVMKjX5veubQ.b['7'][1]++;}__cov_srBOcC5q6PzVMKjX5veubQ.s['45']++;expectationPool[signature].actuallCalls+=1;__cov_srBOcC5q6PzVMKjX5veubQ.s['46']++;if(withCallback){__cov_srBOcC5q6PzVMKjX5veubQ.b['9'][0]++;__cov_srBOcC5q6PzVMKjX5veubQ.s['47']++;callback(expectationPool[signature].returnItem);}else{__cov_srBOcC5q6PzVMKjX5veubQ.b['9'][1]++;}}__cov_srBOcC5q6PzVMKjX5veubQ.s['48']++;mock.expect=function(obj){__cov_srBOcC5q6PzVMKjX5veubQ.f['7']++;__cov_srBOcC5q6PzVMKjX5veubQ.s['49']++;var i,saveExpectation=function(object){__cov_srBOcC5q6PzVMKjX5veubQ.f['8']++;__cov_srBOcC5q6PzVMKjX5veubQ.s['50']++;var signature;__cov_srBOcC5q6PzVMKjX5veubQ.s['51']++;if((__cov_srBOcC5q6PzVMKjX5veubQ.b['11'][0]++,!object)||(__cov_srBOcC5q6PzVMKjX5veubQ.b['11'][1]++,!object.sql)){__cov_srBOcC5q6PzVMKjX5veubQ.b['10'][0]++;__cov_srBOcC5q6PzVMKjX5veubQ.s['52']++;throw getErrorObj(1);}else{__cov_srBOcC5q6PzVMKjX5veubQ.b['10'][1]++;}__cov_srBOcC5q6PzVMKjX5veubQ.s['53']++;signature=generateSignature(object);__cov_srBOcC5q6PzVMKjX5veubQ.s['54']++;expectationPool[signature]={'sql':String(object.sql),'params':JSON.stringify(object.params),'opts':JSON.stringify(object.opts),'expectedCalls':(__cov_srBOcC5q6PzVMKjX5veubQ.b['12'][0]++,parseInt(object.callCount,10))||(__cov_srBOcC5q6PzVMKjX5veubQ.b['12'][1]++,1),'actuallCalls':0,'returnItem':{'query':{'results':(__cov_srBOcC5q6PzVMKjX5veubQ.b['13'][0]++,object.resultSet)||(__cov_srBOcC5q6PzVMKjX5veubQ.b['13'][1]++,{})}}};};__cov_srBOcC5q6PzVMKjX5veubQ.s['55']++;if(obj instanceof Array){__cov_srBOcC5q6PzVMKjX5veubQ.b['14'][0]++;__cov_srBOcC5q6PzVMKjX5veubQ.s['56']++;for(i=0;i<obj.length;i+=1){__cov_srBOcC5q6PzVMKjX5veubQ.s['57']++;saveExpectation(obj[i]);}}else{__cov_srBOcC5q6PzVMKjX5veubQ.b['14'][1]++;__cov_srBOcC5q6PzVMKjX5veubQ.s['58']++;saveExpectation(obj);}};__cov_srBOcC5q6PzVMKjX5veubQ.s['59']++;mock.verify=function(){__cov_srBOcC5q6PzVMKjX5veubQ.f['9']++;__cov_srBOcC5q6PzVMKjX5veubQ.s['60']++;Y.YQL=oldYQL;__cov_srBOcC5q6PzVMKjX5veubQ.s['61']++;Y.YQLRequest=oldYQLRequest;__cov_srBOcC5q6PzVMKjX5veubQ.s['62']++;Y.Object.each(expectationPool,function(exp){__cov_srBOcC5q6PzVMKjX5veubQ.f['10']++;__cov_srBOcC5q6PzVMKjX5veubQ.s['63']++;if(exp.expectedCalls!==exp.actuallCalls){__cov_srBOcC5q6PzVMKjX5veubQ.b['15'][0]++;__cov_srBOcC5q6PzVMKjX5veubQ.s['64']++;throw getErrorObj(0,exp);}else{__cov_srBOcC5q6PzVMKjX5veubQ.b['15'][1]++;}});__cov_srBOcC5q6PzVMKjX5veubQ.s['65']++;A.pass();};__cov_srBOcC5q6PzVMKjX5veubQ.s['66']++;mock.restoreYQL=function(){__cov_srBOcC5q6PzVMKjX5veubQ.f['11']++;__cov_srBOcC5q6PzVMKjX5veubQ.s['67']++;Y.YQL=oldYQL;__cov_srBOcC5q6PzVMKjX5veubQ.s['68']++;Y.YQLRequest=oldYQLRequest;};__cov_srBOcC5q6PzVMKjX5veubQ.s['69']++;mock.mockYQL=function(){__cov_srBOcC5q6PzVMKjX5veubQ.f['12']++;__cov_srBOcC5q6PzVMKjX5veubQ.s['70']++;Y.YQL=mockingYQL;__cov_srBOcC5q6PzVMKjX5veubQ.s['71']++;Y.YQLRequest=mockingYQL;};__cov_srBOcC5q6PzVMKjX5veubQ.s['72']++;Y.YQL=mockingYQL;__cov_srBOcC5q6PzVMKjX5veubQ.s['73']++;Y.YQLRequest=mockingYQL;__cov_srBOcC5q6PzVMKjX5veubQ.s['74']++;return mock;}__cov_srBOcC5q6PzVMKjX5veubQ.s['75']++;Y.YQLMock=YQLMock;},'gallery-2013.04.10-22-48',{'requires':['yui-base']});
