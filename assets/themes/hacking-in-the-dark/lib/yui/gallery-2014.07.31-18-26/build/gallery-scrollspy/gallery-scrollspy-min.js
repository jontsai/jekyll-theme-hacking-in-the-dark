YUI.add("gallery-scrollspy",function(e,t){function n(){n.superclass.constructor.apply(this,arguments)}e.extend(n,e.Plugin.ScrollInfo,{initializer:function(){this.on("scroll",this.refresh,this),this.refresh()},refresh:function(){var e=this.get("target").all("a"),t=e.getAttribute("href"),n=[],r=0,i=t.length,s,o=this.get("activeClass");for(;r<i;r++)t[r].charAt(0)==="#"&&n.push(t[r]);s=this.getOnscreenNodes(n.join(",")).shift(),s&&(s="#"+s.get("id"),e.batch(function(e){var t=e.get("parentNode");t.toggleClass(o,e.getAttribute("href")===s)}))}},{NS:"scrollspy",ATTRS:{scrollDelay:{valueFn:function(){return parseInt(this.get("host").getData("delay"),10)||15},initOnly:!0},activeClass:{value:e.ClassNameManager.getClassName("menu","active")},target:{setter:e.one,valueFn:function(){return this.get("host").getData("target")},initOnly:!0}}}),e.Plugin.ScrollSpy=n},"gallery-2013.05.15-21-12",{requires:["node-scroll-info","classnamemanager"]});
