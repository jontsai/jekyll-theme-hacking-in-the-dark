if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/gallery-datasource-async-function/gallery-datasource-async-function.js']) {
   __coverage__['build/gallery-datasource-async-function/gallery-datasource-async-function.js'] = {"path":"build/gallery-datasource-async-function/gallery-datasource-async-function.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":45},"end":{"line":1,"column":64}}},"2":{"name":"AsyncFunctionDataSource","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":20,"column":0}}},"3":{"name":"(anonymous_3)","line":59,"loc":{"start":{"line":59,"column":16},"end":{"line":60,"column":1}}},"4":{"name":"callback","line":64,"loc":{"start":{"line":64,"column":2},"end":{"line":65,"column":2}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":108,"column":67}},"2":{"start":{"line":19,"column":0},"end":{"line":22,"column":1}},"3":{"start":{"line":21,"column":1},"end":{"line":21,"column":71}},"4":{"start":{"line":24,"column":0},"end":{"line":24,"column":57}},"5":{"start":{"line":26,"column":0},"end":{"line":41,"column":2}},"6":{"start":{"line":43,"column":0},"end":{"line":103,"column":3}},"7":{"start":{"line":61,"column":2},"end":{"line":62,"column":26}},"8":{"start":{"line":64,"column":2},"end":{"line":81,"column":3}},"9":{"start":{"line":66,"column":3},"end":{"line":78,"column":4}},"10":{"start":{"line":68,"column":4},"end":{"line":68,"column":26}},"11":{"start":{"line":70,"column":8},"end":{"line":78,"column":4}},"12":{"start":{"line":72,"column":4},"end":{"line":72,"column":33}},"13":{"start":{"line":73,"column":4},"end":{"line":73,"column":33}},"14":{"start":{"line":77,"column":4},"end":{"line":77,"column":28}},"15":{"start":{"line":80,"column":3},"end":{"line":80,"column":30}},"16":{"start":{"line":83,"column":2},"end":{"line":99,"column":3}},"17":{"start":{"line":85,"column":3},"end":{"line":93,"column":4}},"18":{"start":{"line":87,"column":4},"end":{"line":87,"column":62}},"19":{"start":{"line":91,"column":4},"end":{"line":91,"column":23}},"20":{"start":{"line":92,"column":4},"end":{"line":92,"column":31}},"21":{"start":{"line":97,"column":3},"end":{"line":97,"column":88}},"22":{"start":{"line":98,"column":3},"end":{"line":98,"column":30}},"23":{"start":{"line":101,"column":2},"end":{"line":101,"column":15}},"24":{"start":{"line":105,"column":0},"end":{"line":105,"column":53}}},"branchMap":{"1":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":3},"end":{"line":66,"column":3}},{"start":{"line":66,"column":3},"end":{"line":66,"column":3}}]},"2":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":8},"end":{"line":70,"column":8}},{"start":{"line":70,"column":8},"end":{"line":70,"column":8}}]},"3":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":25}},{"start":{"line":70,"column":29},"end":{"line":70,"column":42}}]},"4":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":2},"end":{"line":83,"column":2}},{"start":{"line":83,"column":2},"end":{"line":83,"column":2}}]}},"code":["(function () { YUI.add('gallery-datasource-async-function', function (Y, NAME) {","","\"use strict\";","","/**"," * @module gallery-datasource-async-function"," */","","/**********************************************************************"," * <p>Data source that calls an asynchronous function.</p>"," *"," * @main gallery-datasource-async-function"," * @class AsyncFunction"," * @namespace DataSource"," * @extends DataSource.Local"," * @constructor"," * @param config {Object}"," */","function AsyncFunctionDataSource()","{","\tAsyncFunctionDataSource.superclass.constructor.apply(this, arguments);","}","","AsyncFunctionDataSource.NAME = \"asyncFunctionDataSource\";","","AsyncFunctionDataSource.ATTRS =","{","\t/**","\t * <p>The function that will be called to retrieve the data.  This","\t * function is called with the DataSource as the scope and arguments","\t * (callback,request,ds,e).  The function must invoke callback, passing","\t * (error,response).</p>","\t *","\t * @attribute source","\t * @type {Function}","\t */","\tsource:","\t{","\t\tvalidator: Y.Lang.isFunction","\t}","};","","Y.extend(AsyncFunctionDataSource, Y.DataSource.Local,","{","\t/**","\t * Passes request to source. Fires <code>data</code> event when","\t * response is received asynchronously.","\t *","\t * @method _defRequestFn","\t * @param e {Event.Facade} Event Facade","\t * @param e.tId {Number} Unique transaction ID","\t * @param e.request {Object} The request","\t * @param e.callback {Object} The callback object","\t * @param e.callback.success {Function} Success handler","\t * @param e.callback.failure {Function} Failure handler","\t * @param e.cfg {Object} Configuration object","\t * @protected","\t */","\t_defRequestFn: function(e)","\t{","\t\tvar fn = this.get(\"source\"),","\t\t\tpayload = e.details[0];","","\t\tfunction callback(error, response)\t\t// NodeJS signature","\t\t{","\t\t\tif (error)","\t\t\t{","\t\t\t\tpayload.error = error;","\t\t\t}","\t\t\telse if (response.data && response.meta)","\t\t\t{","\t\t\t\tpayload.data = response.data;","\t\t\t\tpayload.meta = response.meta;","\t\t\t}","\t\t\telse","\t\t\t{","\t\t\t\tpayload.data = response;","\t\t\t}","","\t\t\tthis.fire('data', payload);","\t\t}","","\t\tif (fn)","\t\t{","\t\t\ttry","\t\t\t{","\t\t\t\tfn.call(this, Y.bind(callback, this), e.request, this, e);","\t\t\t}","\t\t\tcatch (ex)","\t\t\t{","\t\t\t\tpayload.error = ex;","\t\t\t\tthis.fire('data', payload);","\t\t\t}","\t\t}","\t\telse","\t\t{","\t\t\tpayload.error = new Error('Function was not configured for AsyncFunctionDataSource');","\t\t\tthis.fire('data', payload);","\t\t}","","\t\treturn e.tId;","\t}","});","","Y.DataSource.AsyncFunction = AsyncFunctionDataSource;","","","}, 'gallery-2013.10.24-18-05', {\"requires\": [\"datasource-local\"]});","","}());"]};
}
var __cov_axfxM3hP75i4liFMSj6ZKw = __coverage__['build/gallery-datasource-async-function/gallery-datasource-async-function.js'];
__cov_axfxM3hP75i4liFMSj6ZKw.s['1']++;YUI.add('gallery-datasource-async-function',function(Y,NAME){'use strict';__cov_axfxM3hP75i4liFMSj6ZKw.f['1']++;__cov_axfxM3hP75i4liFMSj6ZKw.s['2']++;function AsyncFunctionDataSource(){__cov_axfxM3hP75i4liFMSj6ZKw.f['2']++;__cov_axfxM3hP75i4liFMSj6ZKw.s['3']++;AsyncFunctionDataSource.superclass.constructor.apply(this,arguments);}__cov_axfxM3hP75i4liFMSj6ZKw.s['4']++;AsyncFunctionDataSource.NAME='asyncFunctionDataSource';__cov_axfxM3hP75i4liFMSj6ZKw.s['5']++;AsyncFunctionDataSource.ATTRS={source:{validator:Y.Lang.isFunction}};__cov_axfxM3hP75i4liFMSj6ZKw.s['6']++;Y.extend(AsyncFunctionDataSource,Y.DataSource.Local,{_defRequestFn:function(e){__cov_axfxM3hP75i4liFMSj6ZKw.f['3']++;__cov_axfxM3hP75i4liFMSj6ZKw.s['7']++;var fn=this.get('source'),payload=e.details[0];__cov_axfxM3hP75i4liFMSj6ZKw.s['8']++;function callback(error,response){__cov_axfxM3hP75i4liFMSj6ZKw.f['4']++;__cov_axfxM3hP75i4liFMSj6ZKw.s['9']++;if(error){__cov_axfxM3hP75i4liFMSj6ZKw.b['1'][0]++;__cov_axfxM3hP75i4liFMSj6ZKw.s['10']++;payload.error=error;}else{__cov_axfxM3hP75i4liFMSj6ZKw.b['1'][1]++;__cov_axfxM3hP75i4liFMSj6ZKw.s['11']++;if((__cov_axfxM3hP75i4liFMSj6ZKw.b['3'][0]++,response.data)&&(__cov_axfxM3hP75i4liFMSj6ZKw.b['3'][1]++,response.meta)){__cov_axfxM3hP75i4liFMSj6ZKw.b['2'][0]++;__cov_axfxM3hP75i4liFMSj6ZKw.s['12']++;payload.data=response.data;__cov_axfxM3hP75i4liFMSj6ZKw.s['13']++;payload.meta=response.meta;}else{__cov_axfxM3hP75i4liFMSj6ZKw.b['2'][1]++;__cov_axfxM3hP75i4liFMSj6ZKw.s['14']++;payload.data=response;}}__cov_axfxM3hP75i4liFMSj6ZKw.s['15']++;this.fire('data',payload);}__cov_axfxM3hP75i4liFMSj6ZKw.s['16']++;if(fn){__cov_axfxM3hP75i4liFMSj6ZKw.b['4'][0]++;__cov_axfxM3hP75i4liFMSj6ZKw.s['17']++;try{__cov_axfxM3hP75i4liFMSj6ZKw.s['18']++;fn.call(this,Y.bind(callback,this),e.request,this,e);}catch(ex){__cov_axfxM3hP75i4liFMSj6ZKw.s['19']++;payload.error=ex;__cov_axfxM3hP75i4liFMSj6ZKw.s['20']++;this.fire('data',payload);}}else{__cov_axfxM3hP75i4liFMSj6ZKw.b['4'][1]++;__cov_axfxM3hP75i4liFMSj6ZKw.s['21']++;payload.error=new Error('Function was not configured for AsyncFunctionDataSource');__cov_axfxM3hP75i4liFMSj6ZKw.s['22']++;this.fire('data',payload);}__cov_axfxM3hP75i4liFMSj6ZKw.s['23']++;return e.tId;}});__cov_axfxM3hP75i4liFMSj6ZKw.s['24']++;Y.DataSource.AsyncFunction=AsyncFunctionDataSource;},'gallery-2013.10.24-18-05',{'requires':['datasource-local']});
