YUI.add("gallery-sm-tree-selectable",function(e,t){function s(){n.after(this._afterDefAddFn,this,"_defAddFn"),n.after(this._afterDefClearFn,this,"_defClearFn"),n.after(this._afterDefRemoveFn,this,"_defRemoveFn")}var n=e.Do,r="select",i="unselect";s.prototype={initializer:function(){this.nodeExtensions=this.nodeExtensions.concat(e.Tree.Node.Selectable),this._selectedMap={},this._selectableEvents=[this.after("multiSelectChange",this._afterMultiSelectChange)]},destructor:function(){(new e.EventHandle(this._selectableEvents)).detach(),this._selectableEvents=null,this._selectedMap=null},getSelectedNodes:function(){return e.Object.values(this._selectedMap)},selectNode:function(e,t){return this._selectedMap[e.id]||this._fire(r,{node:e},{defaultFn:this._defSelectFn,silent:t&&t.silent}),this},unselect:function(e){for(var t in this._selectedMap)this._selectedMap.hasOwnProperty(t)&&this.unselectNode(this._selectedMap[t],e);return this},unselectNode:function(e,t){return(e.isSelected()||this._selectedMap[e.id])&&this._fire(i,{node:e},{defaultFn:this._defUnselectFn,silent:t&&t.silent}),this},_afterDefAddFn:function(e){e.node.isSelected()&&this.selectNode(e.node)},_afterDefClearFn:function(){this._selectedMap={}},_afterDefRemoveFn:function(e){delete e.node.state.selected,delete this._selectedMap[e.node.id]},_afterMultiSelectChange:function(){this.unselect()},_defSelectFn:function(e){this.get("multiSelect")||this.unselect(),e.node.state.selected=!0,this._selectedMap[e.node.id]=e.node},_defUnselectFn:function(e){delete e.node.state.selected,delete this._selectedMap[e.node.id]}},s.ATTRS={multiSelect:{value:!1}},e.Tree.Selectable=s},"gallery-2013.02.07-15-27",{requires:["gallery-sm-tree","gallery-sm-tree-node-selectable"]});
