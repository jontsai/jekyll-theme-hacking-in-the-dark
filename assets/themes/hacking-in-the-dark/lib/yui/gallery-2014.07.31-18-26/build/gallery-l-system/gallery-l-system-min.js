YUI.add("gallery-l-system",function(a){(function(e,p){var h=null,s="iterations",k="pattern",i="rules",l="value",n=true,g=e.Array,d=e.Base,q=e.Lang,m=RegExp,j=q.isArray,r=q.isFunction,o=q.isObject,f=e.Object.keys,b=g.map,c=g.some;e.LSystem=d.create(p,d,[],{initializer:function(){var t=this;t.on(["axiomChange","rulesChange"],t.restart,t);t.restart();},iterate:function(v){var t=v&&v>=1?v:1,u=this,x=u.get(k),z=u.get(i),w=u.get(l),y=function(B,A,D){var C=u._resolveMatch(z[B],A,D,B);if(C===h){return B;}return C;};while(t>0){t-=1;w=w.replace(x,y);}return u._set(s,u.get(s)+v)._set(l,w);},restart:function(){var t=this;return t._set(s,0)._set(k,new m(b(f(t.get(i)),function(u){if("\\^$*+?.()|{}[]".indexOf(u)!==-1){return"\\"+u;}return u;}).join("|"),"g"))._set(l,t.get("axiom"));},_resolveMatch:function(A,v,y,u){var z=e.WeightedList,x,w=this,t;if(j(A)){c(A,function(B){t=w._resolveMatch(B,v,y,u);if(t!==h){return n;}});return t;}if(o(A)){if(z&&A instanceof z){return w._resolveMatch(A.value(),v,y,u);}t=A.fn;if(r(t)){return t.call(A.ctx,u,v,y);}t=A.first;if(t&&v||t===false&&!v){return h;}x=y.length-1;t=A.last;if(t&&v!==x||t===false&&v===x){return h;}t=A.next;if(t){if(z&&t instanceof z){t=t.value();}if(y.substr(v+1,t.length)!==t){return h;}}t=A.notNext;if(t){if(z&&t instanceof z){t=t.value();}if(y.substr(v+1,t.length)===t){return h;}}t=A.notPrev;if(t){if(!v){return h;}if(z&&t instanceof z){t=t.value();}if(y.substr(v-t.length,t.length)===t){return h;}}t=A.prev;if(t){if(!v){return h;}if(z&&t instanceof z){t=t.value();}if(y.substr(v-t.length,t.length)!==t){return h;}}return w._resolveMatch(A.value,v,y,u);}return A;}},{ATTRS:{axiom:{value:""},iterations:{readOnly:n,value:0},pattern:{readOnly:n,value:h},rules:{value:{}},value:{readOnly:n,value:""}}});}(a,arguments[1]));},"gallery-2012.07.18-13-22",{requires:["array-extras","base"],skinnable:false,optional:["gallery-weighted-list"]});