YUI.add("gallery-tabby",function(A){A.Tabby=function(B){if(B===""){A.error("No Selector Given");}this._selector=B;this.charCode=String.fromCharCode(9);this._handles=[];};A.Tabby.prototype={_textareas:null,_selector:null,_handles:null,charCode:null,activate:function(){this._textareas=A.all(this._selector);if(this._textareas){this._textareas.each(function(B){this._handles.push(B.on("keydown",A.bind(this._handleKeyDown,this)));},this);}},deactivate:function(){A.each(this._handles,function(B){B.detach();});},_handleKeyDown:function(H){var F=H.keyCode,B=H.target,E=B.get("scrollTop"),G=B.get("value"),D,I=B.get("selectionStart"),C=B.get("selectionEnd");if(F==9){H.halt();if(A.UA.ie){D=document.selection.createRange();if(D.text===""){D.text=this.charCode;D.collapse(false);D.select();}}else{if(I==C){G=G.substring(0,I)+this.charCode+G.substring(I);H.target.set("value",G);}}H.target.set("scrollTop",E);}}};},"gallery-2009.10.27",{requires:["node","event"]});