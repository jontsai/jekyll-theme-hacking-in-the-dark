YUI.add("gallery-console-test",function(e,t){"use strict";function n(e){n.superclass.constructor.call(this,e)}function r(t){var n=e.Node.getDOMNode(t);n.length=0,n[0]=new Option("All tests",-1),e.Array.each(e.Test.Runner.masterSuite.items,function(e,t){n[t+1]=new Option(e.name,t)})}n.NAME="ConsoleTestPlugin",n.NS="test",e.extend(n,e.Plugin.Base,{initializer:function(e){this.doAfter("renderUI",this.renderUI),this.get("host").get("rendered")&&this.renderUI()},destructor:function(){this.container.remove(!0)},renderUI:function(){var t=this.get("host").get("contentBox").one("."+e.Console.CHROME_CLASSES.console_ft_class);if(t){this.container=e.Node.create(e.Lang.sub('<div class="{c}"><select class="menu"></select><button type="button" class="run">{b1}</button><button type="button" class="refresh">{b2}</button></div>',{c:e.ClassNameManager.getClassName("console","test","container"),b1:"Run",b2:"Refresh"}));var n=this.container.one("select");r(n),this.container.one("button.run").on("click",function(){var t=n.get("value");if(t>=0){var r=e.Test.Runner.masterSuite.items;e.Test.Runner.clear(),e.Test.Runner.add(r[t]);var i=e.Test.Runner.on("complete",function(){i.detach(),e.Test.Runner.clear(),e.Array.each(r,function(t){e.Test.Runner.add(t)})})}e.Test.Runner.run()}),this.container.one("button.refresh").on("click",function(){r(n)});var i=t.one("."+e.Console.CHROME_CLASSES.console_controls_class),s=i.get("nextSibling");s?t.insertBefore(this.container,s):t.appendChild(this.container)}}}),e.namespace("Plugin"),e.Plugin.ConsoleTest=n},"gallery-2013.01.16-21-05",{skinnable:"true",requires:["console","plugin","test"]});
