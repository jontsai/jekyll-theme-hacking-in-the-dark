{
    "name": "gallery-scrollfix",
    "passed": 4,
    "failed": 0,
    "errors": 0,
    "ignored": 0,
    "total": 4,
    "duration": 43,
    "type": "report",
    "Automated Tests": {
        "name": "Automated Tests",
        "passed": 4,
        "failed": 0,
        "errors": 0,
        "ignored": 0,
        "total": 4,
        "duration": 42,
        "type": "testcase",
        "test: plug namespace": {
            "result": "pass",
            "message": "Test passed",
            "type": "test",
            "name": "test: plug namespace",
            "duration": 2
        },
        "test: mouseenter attaches mousewheelListener": {
            "result": "pass",
            "message": "Test passed",
            "type": "test",
            "name": "test: mouseenter attaches mousewheelListener",
            "duration": 3
        },
        "test: mouseleave detaches mousewheelListener": {
            "result": "pass",
            "message": "Test passed",
            "type": "test",
            "name": "test: mouseleave detaches mousewheelListener",
            "duration": 2
        },
        "test: destructor detaches mousewheelListener": {
            "result": "pass",
            "message": "Test passed",
            "type": "test",
            "name": "test: destructor detaches mousewheelListener",
            "duration": 1
        }
    },
    "timestamp": "Wed 12 Dec 2012 03:12:57 PM CST",
    "coverage": {
        "build/cdn_gallery-2012.12.12-21-11/": {
            "path": "build/cdn_gallery-2012.12.12-21-11/",
            "s": {
                "1": 1,
                "2": 1,
                "3": 4,
                "4": 1,
                "5": 1,
                "6": 1,
                "7": 4,
                "8": 0,
                "9": 4,
                "10": 4,
                "11": 0,
                "12": 1,
                "13": 4,
                "14": 4,
                "15": 9,
                "16": 9,
                "17": 0,
                "18": 0,
                "19": 0,
                "20": 0,
                "21": 0,
                "22": 0,
                "23": 4,
                "24": 3,
                "25": 3,
                "26": 4,
                "27": 2,
                "28": 2,
                "29": 1
            },
            "b": {
                "1": [
                    0,
                    4
                ],
                "2": [
                    4,
                    0
                ],
                "3": [
                    0,
                    0
                ],
                "4": [
                    0,
                    0
                ],
                "5": [
                    0,
                    0
                ],
                "6": [
                    0,
                    0
                ],
                "7": [
                    0,
                    0
                ],
                "8": [
                    2,
                    2
                ]
            },
            "f": {
                "1": 1,
                "2": 4,
                "3": 4,
                "4": 4,
                "5": 9,
                "6": 0,
                "7": 3,
                "8": 4
            },
            "fnMap": {
                "1": {
                    "name": "(anonymous_1)",
                    "line": 1,
                    "loc": {
                        "start": {
                            "line": 1,
                            "column": 29
                        },
                        "end": {
                            "line": 1,
                            "column": 48
                        }
                    }
                },
                "2": {
                    "name": "NodeScrollFix",
                    "line": 20,
                    "loc": {
                        "start": {
                            "line": 20,
                            "column": 0
                        },
                        "end": {
                            "line": 20,
                            "column": 35
                        }
                    }
                },
                "3": {
                    "name": "(anonymous_3)",
                    "line": 37,
                    "loc": {
                        "start": {
                            "line": 37,
                            "column": 10
                        },
                        "end": {
                            "line": 37,
                            "column": 26
                        }
                    }
                },
                "4": {
                    "name": "(anonymous_4)",
                    "line": 48,
                    "loc": {
                        "start": {
                            "line": 48,
                            "column": 17
                        },
                        "end": {
                            "line": 48,
                            "column": 38
                        }
                    }
                },
                "5": {
                    "name": "(anonymous_5)",
                    "line": 51,
                    "loc": {
                        "start": {
                            "line": 51,
                            "column": 23
                        },
                        "end": {
                            "line": 51,
                            "column": 40
                        }
                    }
                },
                "6": {
                    "name": "(anonymous_6)",
                    "line": 53,
                    "loc": {
                        "start": {
                            "line": 53,
                            "column": 52
                        },
                        "end": {
                            "line": 53,
                            "column": 65
                        }
                    }
                },
                "7": {
                    "name": "(anonymous_7)",
                    "line": 70,
                    "loc": {
                        "start": {
                            "line": 70,
                            "column": 23
                        },
                        "end": {
                            "line": 70,
                            "column": 40
                        }
                    }
                },
                "8": {
                    "name": "(anonymous_8)",
                    "line": 75,
                    "loc": {
                        "start": {
                            "line": 75,
                            "column": 13
                        },
                        "end": {
                            "line": 75,
                            "column": 24
                        }
                    }
                }
            },
            "statementMap": {
                "1": {
                    "start": {
                        "line": 1,
                        "column": 0
                    },
                    "end": {
                        "line": 84,
                        "column": 62
                    }
                },
                "2": {
                    "start": {
                        "line": 20,
                        "column": 0
                    },
                    "end": {
                        "line": 22,
                        "column": 1
                    }
                },
                "3": {
                    "start": {
                        "line": 21,
                        "column": 1
                    },
                    "end": {
                        "line": 21,
                        "column": 61
                    }
                },
                "4": {
                    "start": {
                        "line": 23,
                        "column": 0
                    },
                    "end": {
                        "line": 23,
                        "column": 41
                    }
                },
                "5": {
                    "start": {
                        "line": 24,
                        "column": 0
                    },
                    "end": {
                        "line": 24,
                        "column": 31
                    }
                },
                "6": {
                    "start": {
                        "line": 25,
                        "column": 0
                    },
                    "end": {
                        "line": 46,
                        "column": 2
                    }
                },
                "7": {
                    "start": {
                        "line": 38,
                        "column": 3
                    },
                    "end": {
                        "line": 42,
                        "column": 4
                    }
                },
                "8": {
                    "start": {
                        "line": 39,
                        "column": 4
                    },
                    "end": {
                        "line": 39,
                        "column": 24
                    }
                },
                "9": {
                    "start": {
                        "line": 40,
                        "column": 10
                    },
                    "end": {
                        "line": 42,
                        "column": 4
                    }
                },
                "10": {
                    "start": {
                        "line": 41,
                        "column": 4
                    },
                    "end": {
                        "line": 41,
                        "column": 17
                    }
                },
                "11": {
                    "start": {
                        "line": 43,
                        "column": 3
                    },
                    "end": {
                        "line": 43,
                        "column": 36
                    }
                },
                "12": {
                    "start": {
                        "line": 47,
                        "column": 0
                    },
                    "end": {
                        "line": 81,
                        "column": 3
                    }
                },
                "13": {
                    "start": {
                        "line": 49,
                        "column": 2
                    },
                    "end": {
                        "line": 49,
                        "column": 30
                    }
                },
                "14": {
                    "start": {
                        "line": 51,
                        "column": 2
                    },
                    "end": {
                        "line": 69,
                        "column": 10
                    }
                },
                "15": {
                    "start": {
                        "line": 52,
                        "column": 3
                    },
                    "end": {
                        "line": 52,
                        "column": 35
                    }
                },
                "16": {
                    "start": {
                        "line": 53,
                        "column": 3
                    },
                    "end": {
                        "line": 68,
                        "column": 6
                    }
                },
                "17": {
                    "start": {
                        "line": 54,
                        "column": 4
                    },
                    "end": {
                        "line": 56,
                        "column": 44
                    }
                },
                "18": {
                    "start": {
                        "line": 58,
                        "column": 4
                    },
                    "end": {
                        "line": 67,
                        "column": 5
                    }
                },
                "19": {
                    "start": {
                        "line": 60,
                        "column": 5
                    },
                    "end": {
                        "line": 66,
                        "column": 6
                    }
                },
                "20": {
                    "start": {
                        "line": 62,
                        "column": 6
                    },
                    "end": {
                        "line": 62,
                        "column": 26
                    }
                },
                "21": {
                    "start": {
                        "line": 63,
                        "column": 12
                    },
                    "end": {
                        "line": 66,
                        "column": 6
                    }
                },
                "22": {
                    "start": {
                        "line": 65,
                        "column": 6
                    },
                    "end": {
                        "line": 65,
                        "column": 26
                    }
                },
                "23": {
                    "start": {
                        "line": 70,
                        "column": 2
                    },
                    "end": {
                        "line": 73,
                        "column": 10
                    }
                },
                "24": {
                    "start": {
                        "line": 71,
                        "column": 3
                    },
                    "end": {
                        "line": 71,
                        "column": 36
                    }
                },
                "25": {
                    "start": {
                        "line": 72,
                        "column": 3
                    },
                    "end": {
                        "line": 72,
                        "column": 34
                    }
                },
                "26": {
                    "start": {
                        "line": 76,
                        "column": 2
                    },
                    "end": {
                        "line": 79,
                        "column": 3
                    }
                },
                "27": {
                    "start": {
                        "line": 77,
                        "column": 3
                    },
                    "end": {
                        "line": 77,
                        "column": 36
                    }
                },
                "28": {
                    "start": {
                        "line": 78,
                        "column": 3
                    },
                    "end": {
                        "line": 78,
                        "column": 34
                    }
                },
                "29": {
                    "start": {
                        "line": 82,
                        "column": 0
                    },
                    "end": {
                        "line": 82,
                        "column": 52
                    }
                }
            },
            "branchMap": {
                "1": {
                    "line": 38,
                    "type": "if",
                    "locations": [
                        {
                            "start": {
                                "line": 38,
                                "column": 3
                            },
                            "end": {
                                "line": 38,
                                "column": 3
                            }
                        },
                        {
                            "start": {
                                "line": 38,
                                "column": 3
                            },
                            "end": {
                                "line": 38,
                                "column": 3
                            }
                        }
                    ]
                },
                "2": {
                    "line": 40,
                    "type": "if",
                    "locations": [
                        {
                            "start": {
                                "line": 40,
                                "column": 10
                            },
                            "end": {
                                "line": 40,
                                "column": 10
                            }
                        },
                        {
                            "start": {
                                "line": 40,
                                "column": 10
                            },
                            "end": {
                                "line": 40,
                                "column": 10
                            }
                        }
                    ]
                },
                "3": {
                    "line": 58,
                    "type": "if",
                    "locations": [
                        {
                            "start": {
                                "line": 58,
                                "column": 4
                            },
                            "end": {
                                "line": 58,
                                "column": 4
                            }
                        },
                        {
                            "start": {
                                "line": 58,
                                "column": 4
                            },
                            "end": {
                                "line": 58,
                                "column": 4
                            }
                        }
                    ]
                },
                "4": {
                    "line": 60,
                    "type": "if",
                    "locations": [
                        {
                            "start": {
                                "line": 60,
                                "column": 5
                            },
                            "end": {
                                "line": 60,
                                "column": 5
                            }
                        },
                        {
                            "start": {
                                "line": 60,
                                "column": 5
                            },
                            "end": {
                                "line": 60,
                                "column": 5
                            }
                        }
                    ]
                },
                "5": {
                    "line": 60,
                    "type": "binary-expr",
                    "locations": [
                        {
                            "start": {
                                "line": 60,
                                "column": 9
                            },
                            "end": {
                                "line": 60,
                                "column": 26
                            }
                        },
                        {
                            "start": {
                                "line": 60,
                                "column": 30
                            },
                            "end": {
                                "line": 60,
                                "column": 55
                            }
                        }
                    ]
                },
                "6": {
                    "line": 63,
                    "type": "if",
                    "locations": [
                        {
                            "start": {
                                "line": 63,
                                "column": 12
                            },
                            "end": {
                                "line": 63,
                                "column": 12
                            }
                        },
                        {
                            "start": {
                                "line": 63,
                                "column": 12
                            },
                            "end": {
                                "line": 63,
                                "column": 12
                            }
                        }
                    ]
                },
                "7": {
                    "line": 63,
                    "type": "binary-expr",
                    "locations": [
                        {
                            "start": {
                                "line": 63,
                                "column": 16
                            },
                            "end": {
                                "line": 63,
                                "column": 33
                            }
                        },
                        {
                            "start": {
                                "line": 63,
                                "column": 37
                            },
                            "end": {
                                "line": 63,
                                "column": 70
                            }
                        }
                    ]
                },
                "8": {
                    "line": 76,
                    "type": "if",
                    "locations": [
                        {
                            "start": {
                                "line": 76,
                                "column": 2
                            },
                            "end": {
                                "line": 76,
                                "column": 2
                            }
                        },
                        {
                            "start": {
                                "line": 76,
                                "column": 2
                            },
                            "end": {
                                "line": 76,
                                "column": 2
                            }
                        }
                    ]
                }
            },
            "code": [
                "(function () { YUI.add('gallery-scrollfix', function (Y, NAME) {",
                "",
                "/**",
                " * ScrollFix is a simple Node plugin that prevents mousewheel events inside",
                " * the host node from bubbling up to parent nodes if the scroll has reached the",
                " * bottom of the host node. This fixes an issue commonly seen in websites where",
                " * the user scrolls an inner-scroll area but then the whole page moves as the",
                " * scroll reaches the bottom of the inner-scroll area.",
                " *",
                " * @module gallery-scrollfix",
                " **/",
                "",
                "/**",
                " * <p>",
                " * ScrollFix is a Node plugin that can be used to stop scroll events from",
                " * escaping an inner scroll area when the scroll reaches the bottom of the area.",
                " * </p>",
                " * @class NodeScrollFix",
                " */",
                "function NodeScrollFix(/*config*/) {",
                "\tNodeScrollFix.superclass.constructor.apply(this, arguments);",
                "}",
                "NodeScrollFix.NAME = 'gallery-scrollfix';",
                "NodeScrollFix.NS = 'scrollfix';",
                "NodeScrollFix.ATTRS = {",
                "\t/**",
                "\t * Defines a node or CSS selector to listen to for the mousewheel",
                "\t * events. This defaults to the body element of the page and probably",
                "\t * should not be altered in most cases.",
                "\t *",
                "\t * @attribute target",
                "\t * @default Y.one('body')",
                "\t * @type string | Y.Node",
                "\t */",
                "\ttarget: {",
                "\t\tvalue: Y.one('body'),",
                "\t\tsetter: function(value) {",
                "\t\t\tif (typeof value === 'string') {",
                "\t\t\t\treturn Y.one(value);",
                "\t\t\t} else if (value instanceof Y.Node) {",
                "\t\t\t\treturn value;",
                "\t\t\t}",
                "\t\t\treturn Y.Attribute.INVALID_VALUE;",
                "\t\t}",
                "\t}",
                "};",
                "Y.extend(NodeScrollFix, Y.Plugin.Base, {",
                "    initializer: function(/*config*/) {",
                "\t\tvar host = this.get('host');",
                "",
                "\t\thost.on('mouseenter',function(/*ev*/) {",
                "\t\t\tvar target = this.get('target');",
                "\t\t\tthis.mouseWheelListener = target.on('mousewheel',function(ev) {",
                "\t\t\t\tvar scrollNode = host.getDOMNode(),",
                "\t\t\t\t\tremainingHeight = scrollNode.scrollHeight - scrollNode.scrollTop,",
                "\t\t\t\t\tclientHeight = scrollNode.clientHeight;",
                "\t\t\t\t// decide if we should prevent scrolling or not",
                "\t\t\t\tif (scrollNode.scrollHeight > clientHeight) {",
                "\t\t\t\t\t// scrollbars are visible",
                "\t\t\t\t\tif (ev.wheelDelta > 0 && scrollNode.scrollTop <= 0) {",
                "\t\t\t\t\t\t// scrolling up, and already at top",
                "\t\t\t\t\t\tev.preventDefault();",
                "\t\t\t\t\t} else if (ev.wheelDelta < 0 && remainingHeight <= clientHeight+1) {",
                "\t\t\t\t\t\t// scrolling down and near enough the bottom already",
                "\t\t\t\t\t\tev.preventDefault();",
                "\t\t\t\t\t}",
                "\t\t\t\t}",
                "\t\t\t});",
                "\t\t},this);",
                "\t\thost.on('mouseleave',function(/*ev*/) {",
                "\t\t\tthis.mouseWheelListener.detach();",
                "\t\t\tthis.mouseWheelListener = null;",
                "\t\t},this);",
                "\t},",
                "\tdestructor: function() {",
                "\t\tif (this.mouseWheelListener) {",
                "\t\t\tthis.mouseWheelListener.detach();",
                "\t\t\tthis.mouseWheelListener = null;",
                "\t\t}",
                "\t}",
                "});",
                "Y.namespace('Plugin').NodeScrollFix = NodeScrollFix;",
                "",
                "}, '@VERSION@', {\"requires\": [\"event-mouseenter\", \"plugin\"]});",
                "",
                "}());"
            ],
            "l": {
                "1": 1,
                "20": 1,
                "21": 4,
                "23": 1,
                "24": 1,
                "25": 1,
                "38": 4,
                "39": 0,
                "40": 4,
                "41": 4,
                "43": 0,
                "47": 1,
                "49": 4,
                "51": 4,
                "52": 9,
                "53": 9,
                "54": 0,
                "58": 0,
                "60": 0,
                "62": 0,
                "63": 0,
                "65": 0,
                "70": 4,
                "71": 3,
                "72": 3,
                "76": 4,
                "77": 2,
                "78": 2,
                "82": 1
            }
        }
    },
    "coverageType": "istanbul"
}
